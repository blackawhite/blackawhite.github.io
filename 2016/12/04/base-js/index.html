<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JS基础知识," />





  <link rel="alternate" href="/atom.xml" title="水手" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/resources/images/favicon.ico?v=5.0.2" />






<meta name="description" content="JavaScript学习中一些零碎笔记，持续更新…">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript mark">
<meta property="og:url" content="http://wwww.yesokiloveyou.com/2016/12/04/base-js/index.html">
<meta property="og:site_name" content="水手">
<meta property="og:description" content="JavaScript学习中一些零碎笔记，持续更新…">
<meta property="og:updated_time" content="2017-01-11T14:03:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript mark">
<meta name="twitter:description" content="JavaScript学习中一些零碎笔记，持续更新…">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6221398885181425000',
      author: 'k神'
    }
  };
</script>




  <link rel="canonical" href="http://wwww.yesokiloveyou.com/2016/12/04/base-js/"/>


  <title> JavaScript mark | 水手 </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">水手</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">为之则易，不为则难</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JavaScript mark
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-04T00:11:18+08:00" content="2016-12-04">
              2016-12-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/04/base-js/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/04/base-js/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>JavaScript学习中一些零碎笔记，持续更新…<br><a id="more"></a></p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">基本：</div><div class="line">    number、string、boolean、<span class="literal">null</span>、<span class="literal">undefined</span></div><div class="line">引用：</div><div class="line">    object:&#123;&#125;、[]、/^$/、<span class="built_in">Date</span></div><div class="line">    <span class="function"><span class="keyword">function</span></span></div></pre></td></tr></table></figure>
<h3 id="比较的奥秘"><a href="#比较的奥秘" class="headerlink" title="比较的奥秘"></a>比较的奥秘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span>中<span class="keyword">case</span>的比较是===</div><div class="line"></div><div class="line">!：首先将值转换为布尔类型的，然后再取反</div><div class="line"></div><div class="line">!!：将其他数据类型转换为布尔类型，相当于<span class="built_in">Boolean</span>()</div><div class="line"></div><div class="line"><span class="number">1</span>、对象和对象比较永远不想等，例如[]==[],&#123;&#125;==&#123;&#125;</div><div class="line"></div><div class="line"><span class="number">2</span>、对象和字符串比较，先调用toString()方法先将对象转换为字符串，然后再进行比较，例如[] == <span class="string">""</span>为<span class="literal">true</span>，&#123;&#125;转换为字符串是<span class="string">"[object object]"</span>，所以&#123;&#125; == <span class="string">""</span>为<span class="literal">false</span></div><div class="line"></div><div class="line"><span class="number">3</span>、对象和布尔类型比较，对象先转化为字符串(toString)，然后转换为数字(<span class="built_in">Number</span>)，布尔类型也转换为数字(<span class="number">1</span>或<span class="number">0</span>)，<span class="built_in">Number</span>(<span class="string">""</span>)是<span class="number">0</span>，例如[] == <span class="literal">false</span>是<span class="literal">true</span></div><div class="line"></div><div class="line"><span class="number">4</span>、对象和数字比较，同上...例如[] == <span class="number">1</span>为<span class="literal">false</span></div><div class="line"></div><div class="line"><span class="number">5</span>、布尔和数字比较，布尔转换为数字(<span class="number">1</span>或<span class="number">0</span>)</div><div class="line"></div><div class="line"><span class="number">6</span>、字符串和数字，字符串转换为数字</div><div class="line"></div><div class="line"><span class="number">7</span>、字符串和布尔，都转换为数字</div><div class="line"></div><div class="line"><span class="number">9</span>、<span class="literal">null</span> == <span class="literal">undefined</span>是<span class="literal">true</span>，除此之外<span class="literal">null</span>或<span class="literal">undefined</span>和其他任何数据类型的比较都不相等</div><div class="line"></div><div class="line"><span class="number">10</span>、JS中==是值比较，===是值和类型都比较</div></pre></td></tr></table></figure>
<h3 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h3><p>同一次预解析只发生在一个(script)脚本块中<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 带var会进行预解析，结果undefined，不加报错则不会预解析，报错</span></div><div class="line"><span class="built_in">console</span>.log(num1);<span class="comment">// undefined</span></div><div class="line"><span class="keyword">var</span> num1 = <span class="number">12</span>;</div><div class="line"><span class="built_in">console</span>.log(num2);<span class="comment">// 报错</span></div><div class="line">num2 = <span class="number">12</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">box</span>(<span class="params"></span>)</span>&#123; </div><div class="line">    alert(a);<span class="comment">// 先预解析弹出undifined，注意这两句的先后顺序！再注意下面的var，由于预解析时找出下面的var，故不向上找啦！</span></div><div class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">box();</div><div class="line">alert(a);<span class="comment">// 弹出2</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">box</span>(<span class="params"></span>)</span>&#123; </div><div class="line">    alert(a);<span class="comment">// 函数内预解析找不到var，向上找为2就弹出2.然后向下执行又被修改为1</span></div><div class="line">    a=<span class="number">1</span>;<span class="comment">// 能修改全部变量的a</span></div><div class="line">&#125;</div><div class="line">box();</div><div class="line">alert(a);<span class="comment">// 所以弹出1</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">box</span>(<span class="params">a</span>)</span>&#123; </div><div class="line">    alert(a);<span class="comment">// 函数内预解析找到参数a，就不向上找了，由于调用时没有传入参数，所以弹出undefined </span></div><div class="line">    a=<span class="number">1</span>;<span class="comment">// 此时的a为局部变量，并赋值为1，与此函数外面的a没有任何关系啦</span></div><div class="line">&#125;</div><div class="line">box();</div><div class="line">alert(a);<span class="comment">// 所以弹出2</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">box</span>(<span class="params">a</span>)</span>&#123;<span class="comment">// 参数的本质是个局部变量即var a=2;</span></div><div class="line">    alert(a);<span class="comment">// 弹出2</span></div><div class="line">    a=<span class="number">1</span>;<span class="comment">// 此时的a之所以不能修改外面的值啦，是因为预解析时函数内已找到参数，此时修改的是函数内a的值</span></div><div class="line">&#125;</div><div class="line">box(a);</div><div class="line">alert(a);<span class="comment">// 弹出2</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">alert(f2);<span class="comment">// undefined</span></div><div class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123; </div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123; </div><div class="line">        <span class="keyword">var</span> b=<span class="number">2</span>;</div><div class="line">        alert(b);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 带var和不带var的区别：有没有预解析，undefined和报错的区别</span></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// undefined</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">12</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(b);<span class="comment">// 报错，没有var预解析，找不到b</span></div><div class="line">b = <span class="number">12</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 带var的先声明默认赋值undefined，预解析只发生在当前作用域</span></div><div class="line"><span class="comment">// 带function的声明并定义完成，即开辟内存空间并存储完成</span></div><div class="line">alert(n);<span class="comment">// undefined</span></div><div class="line"><span class="keyword">var</span> n = <span class="number">9</span>;<span class="comment">// </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(n);<span class="comment">// undefined</span></div><div class="line">    n = <span class="number">7</span>;<span class="comment">// 私有作用域变成7</span></div><div class="line">    <span class="keyword">var</span> n = <span class="number">6</span>;<span class="comment">// 私有作用域变成6</span></div><div class="line">&#125;</div><div class="line">fn();</div><div class="line">alert(n);<span class="comment">// 9</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> n = <span class="number">9</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="string">"yangk"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// undefined</span></div><div class="line">    s = <span class="string">'jiangjun'</span>;</div><div class="line">    n = <span class="number">7</span>;</div><div class="line">    <span class="keyword">var</span> n = <span class="number">6</span>;</div><div class="line">    <span class="built_in">console</span>.log(s);<span class="comment">// jiangjun</span></div><div class="line">&#125;</div><div class="line">fn();</div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 9</span></div><div class="line"><span class="built_in">console</span>.log(s);<span class="comment">// jiangjun</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 发现相重的，不重复声明，但可以重复定义赋值，而函数预解析时声明并定义赋值</span></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// function a()&#123; console.log(2); &#125;</span></div><div class="line"><span class="keyword">var</span> a;</div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// function a()&#123; console.log(2); &#125;</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// function a()&#123; console.log(2); &#125;</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">3</span>;<span class="comment">// 重新赋值为3</span></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// 3</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 预解析是不管条件语句的</span></div><div class="line"><span class="keyword">if</span>(!(<span class="string">"a"</span> <span class="keyword">in</span> <span class="built_in">window</span>))&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">12</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);<span class="comment">// √</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// undefined</span></div><div class="line"><span class="keyword">if</span>(<span class="number">1</span> != <span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">12</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 只预解释=左边的，右边不解释</span></div><div class="line"><span class="built_in">console</span>.log(fn);<span class="comment">// undefined</span></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">// 报错</span></div><div class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">fn();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// function中return 下面 的代码虽然不执行了，但是会预解析，后面 返回值不预解释</span></div><div class="line"><span class="comment">// 预解释发生在一个(script)脚本块中，不同的脚本块中不预解释</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(b);<span class="comment">// undefined</span></div><div class="line">    <span class="built_in">console</span>.log(a);<span class="comment">// 报错</span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">    <span class="keyword">var</span> b = <span class="number">12</span>;</div><div class="line">&#125;</div><div class="line">fn();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 自执行函数在全局作用域下是不尽兴预解释的，当代码执行到这里的时候定义和执行一起完成</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)();</div><div class="line">~(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)();</div><div class="line">!(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)();</div><div class="line">+(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)();</div><div class="line">-(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// JS中如果变量的名字和函数的名字一样其实是一个东西，会重复，会冲突</span></div><div class="line"><span class="comment">// 预解释的时候如果名字已经声明过了，则不需要重新的声明，但是需要重新的赋值</span></div><div class="line"><span class="comment">// var fn = 13;</span></div><div class="line"><span class="comment">// function fn()&#123;</span></div><div class="line"><span class="comment">//     console.log("ok");</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="comment">// 注意函数的预解释是声明加定义</span></div><div class="line">fn();<span class="comment">// 2</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;<span class="comment">// 声明 + 定义(赋值)，由于一开始就声明+定义了，这里不会对再经过的代码起作用（声明／定义）</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</div><div class="line">&#125;</div><div class="line">fn();<span class="comment">// 2</span></div><div class="line"><span class="keyword">var</span> fn = <span class="number">10</span>;<span class="comment">// 再此经过时会重新定义</span></div><div class="line">fn();<span class="comment">// 10()会报错</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;<span class="comment">// 定义</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</div><div class="line">&#125;</div><div class="line">fn();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fo</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> n + i ++;<span class="comment">// 这里先执行i ++</span></div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fo();</div><div class="line"><span class="keyword">var</span> a = f(<span class="number">15</span>);</div><div class="line">alert(a);<span class="comment">// 15，并且上面f()中的i变成了1</span></div><div class="line"><span class="keyword">var</span> d = f(<span class="number">20</span>);</div><div class="line">alert(d);<span class="comment">// 21</span></div><div class="line"><span class="keyword">var</span> b = fo()(<span class="number">15</span>);<span class="comment">// 重新执行了15</span></div><div class="line">alert(b);</div><div class="line"><span class="keyword">var</span> c = fo()(<span class="number">20</span>);<span class="comment">// 重新执行了20</span></div><div class="line">alert(c);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = <span class="number">2</span>;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">number</span>: <span class="number">4</span>,</div><div class="line">    <span class="attr">fn1</span>: (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// 一上来自执行</span></div><div class="line">        <span class="keyword">this</span>.number *= <span class="number">2</span>;<span class="comment">// this是window</span></div><div class="line">        number = number * <span class="number">2</span>;<span class="comment">// undefined * 2</span></div><div class="line">        <span class="built_in">console</span>.log(number);<span class="comment">// NaN</span></div><div class="line">        <span class="keyword">var</span> number = <span class="number">3</span>;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.number *= <span class="number">2</span>;</div><div class="line">            number *= <span class="number">3</span>;</div><div class="line">            alert(number);</div><div class="line">        &#125;</div><div class="line">    &#125;)()</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> fn1 = obj.fn1;<span class="comment">// 这里只是return的函数，上面的console.log(number)不会再输出了</span></div><div class="line">alert(number);<span class="comment">// 全局的number等于4</span></div><div class="line">fn1();<span class="comment">// 局部的number等于9，此时全局的number已经变成8</span></div><div class="line"></div><div class="line">obj.fn1();<span class="comment">// 局部的number驻留内存9 * 3 = 27，此时obj.number已经等于8</span></div><div class="line">alert(<span class="built_in">window</span>.number);<span class="comment">// 8</span></div><div class="line">alert(obj.number);<span class="comment">// 8</span></div></pre></td></tr></table></figure>
<h3 id="try-catch"><a href="#try-catch" class="headerlink" title="try catch"></a>try catch</h3><p>语法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="comment">// JS要执行的代码</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">catch</span>(e)&#123;<span class="comment">// 形参一定要写，名字可以随便起，当try中代码报错了，会自动的执行catch中的代码</span></div><div class="line">    <span class="comment">// e.message;</span></div><div class="line">    <span class="comment">// throw new Error("shit");</span></div><div class="line">    <span class="comment">// throw new ReferenceError;// 引用错误</span></div><div class="line">    <span class="comment">// throw new TypeError;// 类型错误</span></div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">RangeError</span>(<span class="string">"ss"</span>);<span class="comment">// 范围错误</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">finally</span>&#123;<span class="comment">// 不管try是否报错这里都会执行</span></div><div class="line">    <span class="comment">// 一般不加</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>作用1：不让浏览器控制台报错，继续执行后面的JS代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">&#125;</div><div class="line"><span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="built_in">console</span>.log(e.message);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);<span class="comment">// 我会继续执行</span></div></pre></td></tr></table></figure></p>
<p>作用2：既要捕获错误信息，也可手动定义错误内容，又要下面的代码不执行<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num);</div><div class="line">&#125;</div><div class="line"><span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"shit"</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);<span class="comment">// 我会继续执行</span></div></pre></td></tr></table></figure></p>
<p>作用3：处理浏览器的兼容性…</p>
<h3 id="查找上级作用域"><a href="#查找上级作用域" class="headerlink" title="查找上级作用域"></a>查找上级作用域</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 如何查找当前作用域的上一级作用域：看当前函数是在哪个作用域下定义的，和函数在哪执行的无关</span></div><div class="line"><span class="keyword">var</span> num = <span class="number">12</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">120</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// return后的不预解释，直接在这里定义，返回函数的内存地址。函数是在这里定义的</span></div><div class="line">        <span class="built_in">console</span>.log(num);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fn();<span class="comment">// fn()执行后返回一个函数，执行函数会形成一个私有作用域</span></div><div class="line">f();<span class="comment">// 形成私有作用域，num不是私有的，往上找...</span></div><div class="line"></div><div class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">1200</span>;</div><div class="line">    f();</div><div class="line">&#125;();</div><div class="line"><span class="comment">// 上面将形成3个栈内存，2个堆内存，画图理解</span></div></pre></td></tr></table></figure>
<h3 id="点击计数"><a href="#点击计数" class="headerlink" title="点击计数"></a>点击计数</h3><h4 id="利用全局变量"><a href="#利用全局变量" class="headerlink" title="利用全局变量"></a>利用全局变量</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 利用全局作用域不销毁的原理，弊端：不销毁且容易冲突</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.innerHTML = <span class="number">0</span>;</div><div class="line">oDiv.style.cssText = <span class="string">"border: 1px solid red;height: 40px;line-height: 40px;text-align: center;font-size: 20px;cursor: pointer;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    num ++;</div><div class="line">    oDiv.innerHTML = num;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="利用私有作用域"><a href="#利用私有作用域" class="headerlink" title="利用私有作用域"></a>利用私有作用域</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 弊端：有一个不销毁的私有作用域，占一丢丢内存</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.innerHTML = <span class="number">0</span>;</div><div class="line">oDiv.style.cssText = <span class="string">"border: 1px solid red;height: 40px;line-height: 40px;text-align: center;font-size: 20px;cursor: pointer;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line">    oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        num ++;</div><div class="line">        oDiv.innerHTML = num;</div><div class="line">    &#125;;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<p>函数执行形成一个私有作用域，保护里面的私有变量不受外界干扰，我们把这种机制叫做闭包<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> n = <span class="number">12</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// 销毁不了</span></div><div class="line">        n ++;</div><div class="line">        <span class="built_in">console</span>.log(n);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fn();</div><div class="line">f();<span class="comment">// 13 &gt;&gt; 驻留内存</span></div><div class="line">f();<span class="comment">// 14</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.innerHTML = <span class="number">0</span>;</div><div class="line">oDiv.style.cssText = <span class="string">"border: 1px solid red;height: 40px;line-height: 40px;text-align: center;font-size: 20px;cursor: pointer;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line"></div><div class="line"><span class="comment">// oDiv.onclick = function()&#123;</span></div><div class="line"><span class="comment">//     var i = 0;</span></div><div class="line"><span class="comment">//     return function()&#123;</span></div><div class="line"><span class="comment">//         i ++;</span></div><div class="line"><span class="comment">//         oDiv.innerHTML = i;</span></div><div class="line"><span class="comment">//     &#125;;</span></div><div class="line"><span class="comment">// &#125;();</span></div><div class="line"></div><div class="line">oDiv.onclick = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        i ++;</div><div class="line">        oDiv.innerHTML = i;</div><div class="line">    &#125;;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<h4 id="利用innerHTML"><a href="#利用innerHTML" class="headerlink" title="利用innerHTML"></a>利用innerHTML</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 弊端：重新渲染</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.innerHTML = <span class="number">0</span>;</div><div class="line">oDiv.style.cssText = <span class="string">"border: 1px solid red;height: 40px;line-height: 40px;text-align: center;font-size: 20px;cursor: pointer;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// oDiv.innerHTML = parseInt(oDiv.innerHTML) + 1;</span></div><div class="line">    oDiv.innerHTML ++;<span class="comment">// 有默认的转换机制</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="利用自定义属性"><a href="#利用自定义属性" class="headerlink" title="利用自定义属性"></a>利用自定义属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.innerHTML = <span class="number">0</span>;</div><div class="line">oDiv.style.cssText = <span class="string">"border: 1px solid red;height: 40px;line-height: 40px;text-align: center;font-size: 20px;cursor: pointer;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line">oDiv.num = <span class="number">0</span>;<span class="comment">// 既不是全局变量也不是私有变量，是自定义属性</span></div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.innerHTML = ++ <span class="keyword">this</span>.num;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="内存释放／垃圾回收-待续，高程3…"><a href="#内存释放／垃圾回收-待续，高程3…" class="headerlink" title="内存释放／垃圾回收(待续，高程3…)"></a>内存释放／垃圾回收(待续，高程3…)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 堆内存：存放引用类型的值</span></div><div class="line"><span class="comment">// 对象数据类型或者函数数据类型在定义的时候都会先开辟一个堆内存，堆内存有一个引用地址，当堆内存被占用(引用)的情况下数销毁不了的</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="comment">// 开一个堆内存，假如地址是xxxfff000，obj1指向该堆内存</span></div><div class="line">    name: <span class="string">"yangk"</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> obj2 = obj1;<span class="comment">// obj2也指向xxxfff000</span></div><div class="line"></div><div class="line"><span class="comment">// 当堆内存没人引用时，浏览器将在空闲的时候将其回收，所以销毁堆内存时我们只需要把引用他的变量赋值为null即可</span></div><div class="line">obj1 = <span class="literal">null</span>;<span class="comment">// 空对象指针，谁都不指</span></div><div class="line">obj2 = <span class="literal">null</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 栈内存(作用域)</span></div><div class="line"><span class="comment">// 全局作用域和私有作用域</span></div><div class="line"></div><div class="line"><span class="comment">// 全局作用域：只有当页面关闭的时候其才销毁</span></div><div class="line"><span class="comment">// 私有作用域：函数执行会产生私有作用域，当私有作用域中的代码执行完成后，当前作用域会进行释放和销毁(闭包除外)</span></div><div class="line"></div><div class="line"><span class="comment">// 当私有作用域中的部分内容被占用的情况下是不能被销毁的</span></div><div class="line"></div><div class="line"><span class="comment">// 不销毁情况：</span></div><div class="line"><span class="comment">// 函数执行返回了一个引用数据类型值，并且被外面一个东西给接受了</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">100</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        num ++;</div><div class="line">        <span class="built_in">console</span>.log(num);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fn();</div><div class="line">f();<span class="comment">// 101</span></div><div class="line">f();<span class="comment">// 102</span></div><div class="line">fn()();<span class="comment">// 这种情况fn返回的函数没有被占用，但是还需要执行一次，暂时不销毁，当返回的函数执行完成后，浏览器会在空闲的时候将其销毁</span></div><div class="line"><span class="comment">// 私有作用域中给DOM元素的事件绑定方法一般也不销毁</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);<span class="comment">// 通过DOM方法获取的元素都是对象数据类型的值</span></div><div class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">    &#125;;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><p>setTimeout配合递归模拟setInterval<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(num++);</div><div class="line">    <span class="keyword">if</span>(num === <span class="number">5</span>)&#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> timer = setTimeout(go,<span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line">go();</div></pre></td></tr></table></figure></p>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>);</div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">    ev = ev || <span class="built_in">window</span>.event;</div><div class="line">    ev.target = ev.target || ev.srcElement;<span class="comment">// 事件源</span></div><div class="line">    <span class="comment">// ev.pageY = ev.pageY || ev.clientY + win("scrollTop");// 兼容IE6-8</span></div><div class="line">    ev.preventDefault ? ev.preventDefault() : ev.returnValue = <span class="literal">true</span>;<span class="comment">// 阻止默认行为</span></div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">    ev.stopPropagation ? ev.stopPropagation() : ev.cancelBubble = <span class="literal">true</span>;<span class="comment">// 阻止冒泡</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="关于this"><a href="#关于this" class="headerlink" title="关于this"></a>关于this</h3><p>看方法名前面是否有点，有的话点前面是谁this就是谁<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">fn</span>:fn</div><div class="line">&#125;;</div><div class="line">fn();<span class="comment">// this &gt; window,严格模式下undefined</span></div><div class="line">obj.fn();<span class="comment">// this &gt; obj</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"yangk"</span>;</div><div class="line">&#125;</div><div class="line">Person.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person;</div><div class="line">p1.showName();<span class="comment">// this &gt; p1</span></div><div class="line">p1.__proto__.showName();<span class="comment">// this &gt; p1.__proto__</span></div><div class="line">Person.prototype.showName();<span class="comment">// this &gt; p1.prototype</span></div></pre></td></tr></table></figure>
<p>自执行函数中的this永远是window，严格模式下是undefined<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">// this &gt; window</span></div><div class="line">&#125;)();</div><div class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">// this &gt; window</span></div><div class="line">&#125;();</div></pre></td></tr></table></figure></p>
<p>元素的某一个行为绑定一个方法，this &gt; 元素<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line">oDiv.onclick = fn;</div><div class="line">oDiv.onclick = fn();<span class="comment">// 注意这里是执行的返回结果返回！！！！！！undefined</span></div><div class="line"></div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    fn();<span class="comment">// this  &gt;  window</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>使用call/apply强制改变this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">fn</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">obj.fn();<span class="comment">// this &gt; obj</span></div><div class="line">obj.fn.call(<span class="number">12</span>);<span class="comment">// this &gt; 12</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line">sum.call(<span class="number">100</span>,<span class="number">100.</span>..)<span class="comment">// 第一个参数是this，后面对应接受的形参，没有undefined</span></div><div class="line"></div><div class="line">sum.call();<span class="comment">//在非严格模式下，call的第一个参数不写或者写null/undefined，默认的this都是window，严格模式下写谁就是谁，写null就是null，不写是undefined</span></div><div class="line"></div><div class="line">apply(obj,[...]);</div></pre></td></tr></table></figure>
<h3 id="乘法表"><a href="#乘法表" class="headerlink" title="乘法表"></a>乘法表</h3><h4 id="加换行符实现"><a href="#加换行符实现" class="headerlink" title="加换行符实现"></a>加换行符实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt;= <span class="number">9</span>;i ++)&#123;</div><div class="line">    <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i;j ++)&#123;</div><div class="line">        <span class="keyword">var</span> oSpan = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</div><div class="line">        oSpan.innerHTML = j + <span class="string">"x"</span> + i + <span class="string">"="</span> + i * j + <span class="string">"&amp;nbsp;&amp;nbsp"</span>;</div><div class="line">        <span class="built_in">document</span>.body.appendChild(oSpan);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">document</span>.body.innerHTML += <span class="string">"&lt;br&gt;"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="利用块元素的机制实现"><a href="#利用块元素的机制实现" class="headerlink" title="利用块元素的机制实现"></a>利用块元素的机制实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt;= <span class="number">9</span>;i ++)&#123;</div><div class="line">    <span class="keyword">var</span> oP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</div><div class="line">    <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i;j ++)&#123;</div><div class="line">        oP.innerHTML += j + <span class="string">"x"</span> + i + <span class="string">"="</span> + i * j + <span class="string">"&amp;nbsp;&amp;nbsp"</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">document</span>.body.appendChild(oP);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="用字符串拼接的方法实现"><a href="#用字符串拼接的方法实现" class="headerlink" title="用字符串拼接的方法实现"></a>用字符串拼接的方法实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line">str += <span class="string">"&lt;ul&gt;"</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt;= <span class="number">9</span>;i ++)&#123;</div><div class="line">    str += <span class="string">"&lt;li&gt;"</span>;</div><div class="line">    <span class="keyword">for</span>(j = <span class="number">1</span>;j &lt;= i;j ++)&#123;</div><div class="line">        str += j + <span class="string">"x"</span> + i + <span class="string">"="</span> + j * i + <span class="string">"&amp;nbsp;&amp;nbsp;"</span>;</div><div class="line">    &#125;</div><div class="line">    str += <span class="string">"&lt;/li&gt;"</span>;</div><div class="line">&#125;</div><div class="line">str += <span class="string">"&lt;/ul&gt;"</span>;</div><div class="line"><span class="built_in">document</span>.body.innerHTML = str;</div></pre></td></tr></table></figure>
<h3 id="打印个正方形"><a href="#打印个正方形" class="headerlink" title="打印个正方形"></a>打印个正方形</h3><h4 id="浮动实现"><a href="#浮动实现" class="headerlink" title="浮动实现"></a>浮动实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oWrap = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oWrap.style.cssText = <span class="string">"width:400px;height:400px;margin:0 auto;background-color:#eee;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oWrap);</div><div class="line"></div><div class="line"><span class="keyword">var</span> arrColor = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"pink"</span>,<span class="string">"yellow"</span>,<span class="string">"#ccc"</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">100</span>;i ++)&#123;</div><div class="line">    <span class="keyword">var</span> oSpan = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</div><div class="line">    oSpan.style.cssText = <span class="string">"width:40px;height:40px;float:left;background-color:"</span>+ arrColor[i%arrColor.length] +<span class="string">""</span>;</div><div class="line">    oWrap.appendChild(oSpan);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="两个循环定位实现"><a href="#两个循环定位实现" class="headerlink" title="两个循环定位实现"></a>两个循环定位实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oWrap = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oWrap.style.cssText = <span class="string">"width:400px;height:400px;margin:0 auto;background-color:#eee;position:relative;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oWrap);</div><div class="line"></div><div class="line"><span class="keyword">var</span> arrColor = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"pink"</span>,<span class="string">"yellow"</span>,<span class="string">"#ccc"</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j &lt; <span class="number">10</span>;j ++)&#123;</div><div class="line">        <span class="keyword">var</span> oSpan = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</div><div class="line">        oSpan.style.cssText = <span class="string">"width:40px;height:40px;float:left;background-color:"</span>+ arrColor[(i * <span class="number">10</span> + j)%arrColor.length] +<span class="string">";position:absolute;left:"</span>+ j * <span class="number">40</span> +<span class="string">"px;top:"</span>+ i % <span class="number">10</span> * <span class="number">40</span> +<span class="string">"px;"</span>;</div><div class="line">        oWrap.appendChild(oSpan);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="一个循环定位实现"><a href="#一个循环定位实现" class="headerlink" title="一个循环定位实现"></a>一个循环定位实现</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oWrap = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oWrap.style.cssText = <span class="string">"width:400px;height:400px;margin:0 auto;background-color:#eee;position:relative;"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oWrap);</div><div class="line"></div><div class="line"><span class="keyword">var</span> arrColor = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"pink"</span>,<span class="string">"yellow"</span>,<span class="string">"#ccc"</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">100</span>;i ++)&#123;</div><div class="line">    <span class="keyword">var</span> oSpan = <span class="built_in">document</span>.createElement(<span class="string">"span"</span>);</div><div class="line">    oSpan.style.cssText = <span class="string">"width:40px;height:40px;float:left;background-color:"</span>+ arrColor[i % arrColor.length] +<span class="string">";position:absolute;left:"</span>+ i % <span class="number">10</span> * <span class="number">40</span> +<span class="string">"px;top:"</span>+ <span class="built_in">Math</span>.floor(i / <span class="number">10</span>) * <span class="number">40</span> +<span class="string">"px;"</span>;</div><div class="line">    oWrap.appendChild(oSpan);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="倒计时"><a href="#倒计时" class="headerlink" title="倒计时"></a>倒计时</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 倒计时原理：目标时间 - 当前时间</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.style.textAlign = <span class="string">"center"</span>;</div><div class="line"></div><div class="line"><span class="comment">// 设定目标时间，把时间格式的字符串转换为标准格式，中杠ie6，7，8不兼容，所以下面用/代替</span></div><div class="line"><span class="keyword">var</span> tarTime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2016/12/05 09:30:00"</span>);</div><div class="line"><span class="comment">// 目标时间戳</span></div><div class="line"><span class="keyword">var</span> tarSpan = tarTime.getTime();</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// 获取现在时间</span></div><div class="line">    <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// 当前时间戳</span></div><div class="line">    <span class="keyword">var</span> nowSpan = nowTime.getTime();</div><div class="line"></div><div class="line">    <span class="comment">// 求时间戳之差</span></div><div class="line">    <span class="keyword">var</span> diffTime = tarSpan - nowSpan;</div><div class="line"></div><div class="line">    <span class="comment">// 计算小时</span></div><div class="line">    <span class="keyword">var</span> hours = <span class="built_in">Math</span>.floor( diffTime / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> );</div><div class="line">    <span class="comment">// 上面小时占用的毫秒数</span></div><div class="line">    <span class="keyword">var</span> hoursMs = hours * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;</div><div class="line">    <span class="comment">// 剩下的毫秒数</span></div><div class="line">    <span class="keyword">var</span> halfMs = diffTime - hoursMs;</div><div class="line"></div><div class="line">    <span class="comment">// 计算分钟</span></div><div class="line">    <span class="keyword">var</span> minutes = <span class="built_in">Math</span>.floor(halfMs / <span class="number">1000</span> / <span class="number">60</span>);</div><div class="line">    <span class="comment">// 上面分钟占用的毫秒数</span></div><div class="line">    <span class="keyword">var</span> minutesMs = minutes * <span class="number">60</span> * <span class="number">1000</span>;</div><div class="line">    <span class="comment">// 剩下的毫秒数</span></div><div class="line">    halfMs = halfMs - minutesMs;</div><div class="line"></div><div class="line">    <span class="comment">// 计算秒</span></div><div class="line">    <span class="keyword">var</span> seconds = <span class="built_in">Math</span>.floor(halfMs / <span class="number">1000</span>);</div><div class="line"></div><div class="line">    oDiv.innerHTML = <span class="string">"距离明天上班还有："</span>+ hours +<span class="string">"时"</span>+ minutes +<span class="string">"分"</span>+ seconds +<span class="string">"秒"</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line"></div><div class="line">count();</div><div class="line">setInterval(count,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>注意星期<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">week = <span class="string">"日一二三四五六"</span>.charAt(oDate.getDay());</div><div class="line"><span class="built_in">console</span>.log(week);</div></pre></td></tr></table></figure></p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>一个function生命周期：出生，预解释时声明加定义，开辟一个新的内存空间，让函数名存储这个快的地址；生长，函数执行形成私有作用域，里面开始类似window的新一轮与解析，死亡：一般情况下(如果没有返回function)，私有作用域下的代码执行完成后，整个私有作用域就销毁了。</p>
<h4 id="简单的隔N行变色"><a href="#简单的隔N行变色" class="headerlink" title="简单的隔N行变色"></a>简单的隔N行变色</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> aLi = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"li"</span>);</div><div class="line"><span class="keyword">var</span> arrColor = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"yellow"</span>,<span class="string">"pink"</span>];</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeBg</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; aLi.length;i ++)&#123;</div><div class="line">        aLi[i].style.backgroundColor = arrColor[i % num];</div><div class="line"></div><div class="line">        <span class="keyword">var</span> oldColor = <span class="string">""</span>;</div><div class="line">        aLi[i].onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            oldColor = <span class="keyword">this</span>.style.backgroundColor;</div><div class="line">            <span class="keyword">this</span>.style.backgroundColor = <span class="string">"#ccc"</span>;</div><div class="line">        &#125;;</div><div class="line">        aLi[i].onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.style.backgroundColor = oldColor;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">changeBg(<span class="number">2</span>);</div></pre></td></tr></table></figure>
<h4 id="简单的求和"><a href="#简单的求和" class="headerlink" title="简单的求和"></a>简单的求和</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt;<span class="built_in">arguments</span>.length;i ++)&#123;</div><div class="line">        <span class="keyword">var</span> num = <span class="built_in">Number</span>(<span class="built_in">arguments</span>[i]);<span class="comment">// 两种情况：NaN或者数字</span></div><div class="line">        <span class="keyword">if</span>(<span class="built_in">isNaN</span>(num))&#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        total += num;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(total);</div><div class="line">&#125;</div><div class="line">sum(<span class="number">1</span>,<span class="number">2</span>,<span class="string">"a"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>);</div></pre></td></tr></table></figure>
<h4 id="简单的变色"><a href="#简单的变色" class="headerlink" title="简单的变色"></a>简单的变色</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> arr = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"white"</span>];</div><div class="line"></div><div class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.body.style.backgroundColor = arr[num++%arr.length];</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="函数的3种角色"><a href="#函数的3种角色" class="headerlink" title="函数的3种角色"></a>函数的3种角色</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 函数的3中角色互不相关</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> num = <span class="number">500</span>;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">100</span>;</div><div class="line">&#125;</div><div class="line">Fn.prototype.getX = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">&#125;;</div><div class="line">Fn.aaa = <span class="number">1000</span>;<span class="comment">// 当做一个普通对象来使用</span></div><div class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Fn;</div><div class="line"><span class="keyword">var</span> res = Fn();<span class="comment">// undefined</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(f.num);<span class="comment">// undefined</span></div><div class="line"><span class="built_in">console</span>.log(f.aaa);<span class="comment">// undefined</span></div><div class="line"><span class="built_in">console</span>.log(Fn.aaa);<span class="comment">// 1000</span></div></pre></td></tr></table></figure>
<h3 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h3><h4 id="找n-m间不重复的随机数"><a href="#找n-m间不重复的随机数" class="headerlink" title="找n-m间不重复的随机数"></a>找n-m间不重复的随机数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 找10 - 100之间不重复的整数10个整数并排序</span></div><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)&#123;</div><div class="line">    <span class="comment">// var iNum = Math.round( Math.random() * 90 + 10 );// 在这里定义一旦下面arr[i] == iNum就会陷入死循环</span></div><div class="line">    find();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> iNum = <span class="built_in">Math</span>.round( <span class="built_in">Math</span>.random() * <span class="number">90</span> + <span class="number">10</span> );</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;<span class="comment">// push之前检查一遍</span></div><div class="line">        <span class="keyword">if</span>(arr[i] == iNum)&#123;</div><div class="line">            find();</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    arr.push(iNum);</div><div class="line">&#125;</div><div class="line"></div><div class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> num1 - num2;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(arr);</div></pre></td></tr></table></figure>
<h4 id="简单验证码"><a href="#简单验证码" class="headerlink" title="简单验证码"></a>简单验证码</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> codeStr = <span class="string">'abcdefghijklmnokqrstuvwxyzABCDEFGHIJKLMNOKQRSTUVWXYZ0123456789'</span>;</div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">oDiv.style.cssText = <span class="string">"width:80px;text-align:center;line-height:40px;background-color:#000;margin:50px auto;cursor:pointer;color:#fff;-webkit-user-select:none;"</span>;</div><div class="line"><span class="keyword">var</span> iNum = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandom</span>(<span class="params">n,m</span>)</span>&#123;</div><div class="line">    n = <span class="built_in">Number</span>(n);<span class="comment">// 数字或NaN</span></div><div class="line">    m = <span class="built_in">Number</span>(m);</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">isNaN</span>(n) || <span class="built_in">isNaN</span>(m))&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.random();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(n &gt; m)&#123;</div><div class="line">        <span class="keyword">var</span> temp = n;</div><div class="line">        n = m;</div><div class="line">        m = temp;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.round( <span class="built_in">Math</span>.random() * (m - n) + n );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">rand</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i ++)&#123;</div><div class="line">        iNum = getRandom(<span class="number">0</span>,<span class="number">61</span>);</div><div class="line">        str += codeStr.charAt(iNum);</div><div class="line">    &#125;</div><div class="line">    oDiv.innerHTML = str;</div><div class="line">&#125;</div><div class="line">rand();</div><div class="line"></div><div class="line"><span class="built_in">document</span>.body.appendChild(oDiv);</div><div class="line"></div><div class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    rand();</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><h4 id="删除相同的"><a href="#删除相同的" class="headerlink" title="删除相同的"></a>删除相同的</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>];</div><div class="line"><span class="comment">// 1 [2,1,3,3,2,4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"><span class="comment">// 2 [1,3,3,2,4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"><span class="comment">// 1 [3,3,2,4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"><span class="comment">// 3 [3,2,4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"><span class="comment">// 3 [2,4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"><span class="comment">// 2 [4,6,2,6,5,7,4,4,6,2,9,9,8,3,2,7]</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>;j &lt; arr.length;j ++)&#123;</div><div class="line">        <span class="keyword">if</span>(arr[i] == arr[j])&#123;</div><div class="line">            arr.splice(j,<span class="number">1</span>);<span class="comment">// 原有数组变化了</span></div><div class="line">            j --;<span class="comment">// 上面删除以后，后面的索引项都往前提了一位，这会影响我们的计算，所以这里要处理，解决数组塌陷问题</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(arr);</div></pre></td></tr></table></figure>
<h4 id="根据对象属性名不能等"><a href="#根据对象属性名不能等" class="headerlink" title="根据对象属性名不能等"></a>根据对象属性名不能等</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="string">"yangk"</span>,<span class="string">"yangk"</span>];</div><div class="line"></div><div class="line"><span class="comment">// 把数组中的每一项，当做一个新对象的属性名和属性值存起来，在存储的时候判断当前的属性名是否已经存在，存在就代表数组该项重复了，进行删除，否则则代表不重复，直接存储</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    <span class="keyword">if</span>(obj[arr[i]] == arr[i])&#123;<span class="comment">// 如果有就删除且跳出</span></div><div class="line">        arr.splice(i,<span class="number">1</span>);</div><div class="line">        i --;</div><div class="line">        <span class="keyword">continue</span>;<span class="comment">// 跳出本次循环，也提高了查询次数提高性能</span></div><div class="line">    &#125;</div><div class="line">    obj[arr[i]] = arr[i];</div><div class="line">&#125;</div><div class="line">obj = <span class="literal">null</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(arr);</div></pre></td></tr></table></figure>
<h4 id="push非重复的"><a href="#push非重复的" class="headerlink" title="push非重复的"></a>push非重复的</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// arr[0] : arr[1]，相当退出内循环，此时j = false</span></div><div class="line"><span class="comment">// arr[1] : arr[2]，arr[1] : arr[3]，发现相等又退出内循环，此时j = false</span></div><div class="line"><span class="comment">// arr[2] : arr[3]，arr[2] : arr[4]，arr[2] : arr[5]发现一切正常，此时i等于2故push: arr[2]，此时j = 6</span></div><div class="line"><span class="comment">// arr[3] : arr[4]，arr[3] : arr[5]，发现相等又退出内循环，此时j = false</span></div><div class="line"><span class="comment">// arr[4] : arr[5]，无异常，push: arr[4]，此时j = 6</span></div><div class="line"><span class="comment">// arr[5] 此时j等于6，push: arr[5]，此时j = 6</span></div><div class="line"><span class="keyword">var</span> arr=[<span class="number">5</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">5</span>];</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">jiayou</span>(<span class="params">arr</span>)</span></div><div class="line">&#123; </div><div class="line">    <span class="keyword">var</span> newArr = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)</div><div class="line">    &#123; </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>;j &lt; arr.length;j ++)</div><div class="line">        &#123; </div><div class="line">            <span class="keyword">if</span>(arr[i] === arr[j])</div><div class="line">            &#123; </div><div class="line">                j = <span class="literal">false</span>;<span class="comment">// 与后面比较完再看j的值</span></div><div class="line">                <span class="keyword">break</span>;<span class="comment">// 直接退出循环</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">console</span>.log(i + <span class="string">":"</span> + j);</div><div class="line">        <span class="keyword">if</span>(j)</div><div class="line">        &#123; </div><div class="line">            newArr.push(arr[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> newArr;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(jiayou(arr));</div></pre></td></tr></table></figure>
<h3 id="找数组最大-最小值"><a href="#找数组最大-最小值" class="headerlink" title="找数组最大/最小值"></a>找数组最大/最小值</h3><h4 id="排序后掐头去尾法"><a href="#排序后掐头去尾法" class="headerlink" title="排序后掐头去尾法"></a>排序后掐头去尾法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">33</span>,<span class="number">73</span>,<span class="number">23</span>,<span class="number">13</span>,<span class="number">9</span>];</div><div class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> a - b;</div><div class="line">&#125;);</div><div class="line"><span class="keyword">var</span> min = arr[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> max = arr[arr.length - <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(min,max);</div></pre></td></tr></table></figure>
<h4 id="假设法"><a href="#假设法" class="headerlink" title="假设法"></a>假设法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">33</span>,<span class="number">73</span>,<span class="number">23</span>,<span class="number">13</span>,<span class="number">9</span>];</div><div class="line"><span class="comment">// 假设法：先假设一个是最小值，然后和数组后面的每一项进行比较，如果比我们的当前值还要小，说明假设错误，把当前值赋值给假设值，最大值同理！</span></div><div class="line"><span class="keyword">var</span> min = max = arr[<span class="number">0</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.length;i ++)&#123;</div><div class="line">    arr[i] &lt; min ? min = arr[i] : <span class="literal">null</span>;</div><div class="line">    arr[i] &gt; max ? max = arr[i] : <span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(min,max);</div></pre></td></tr></table></figure>
<h4 id="eval-法"><a href="#eval-法" class="headerlink" title="eval()法"></a>eval()法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">33</span>,<span class="number">73</span>,<span class="number">23</span>,<span class="number">13</span>,<span class="number">9</span>];</div><div class="line"></div><div class="line"><span class="comment">/*var aaa = arr.toString();// 数组转字符串，也可以用join转</span></div><div class="line">var bbb = eval(aaa);// 字符串转表达式，保留的是最后一项的结果还是不行</div><div class="line">// 括号表达式：一个括号中放多项值，中间用逗号隔开，最后获取的只有最后一项，例如(33,73,23,13,9)返回的结果是9</div><div class="line">console.log(Math.max(bbb));// 结果是9，所以这种方式行不通*/</div><div class="line"></div><div class="line"><span class="keyword">var</span> min = <span class="built_in">eval</span>(<span class="string">"Math.min("</span>+ arr.toString() +<span class="string">")"</span>);</div><div class="line"><span class="keyword">var</span> max = <span class="built_in">eval</span>(<span class="string">"Math.max("</span>+ arr.toString() +<span class="string">")"</span>);</div><div class="line"><span class="built_in">console</span>.log(min,max);</div></pre></td></tr></table></figure>
<p>关于括号表达式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line">obj.fn = fn;</div><div class="line">(fn,obj.fn)();<span class="comment">// 一个括号中出现多项内容中间用逗号隔开，取最后，是直接把内容复制一份一模一样的放进来(理解this)，所以这里的this是window</span></div><div class="line">(obj.fn)();<span class="comment">// 只有一项时，this是obj，只有一项加不加小括号无所谓</span></div></pre></td></tr></table></figure></p>
<h4 id="Math-max-apply-法"><a href="#Math-max-apply-法" class="headerlink" title="Math.max.apply()法"></a>Math.max.apply()法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// apply，虽然传递的是一个数组，但是也相当于一个个传递参数，利用这个原理：</span></div><div class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr);</div><div class="line"><span class="built_in">console</span>.log(max);</div></pre></td></tr></table></figure>
<h3 id="平均数"><a href="#平均数" class="headerlink" title="平均数"></a>平均数</h3><h4 id="一般写法"><a href="#一般写法" class="headerlink" title="一般写法"></a>一般写法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">avgFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// arguments.sort();// 类数组不能直接sort</span></div><div class="line">    <span class="keyword">var</span> arr = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">arguments</span>.length;i ++)&#123;</div><div class="line">        arr[arr.length] = <span class="built_in">arguments</span>[i];</div><div class="line">    &#125;</div><div class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> a - b;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    arr.shift();<span class="comment">// 删头</span></div><div class="line">    arr.pop();<span class="comment">// 删尾</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">        total += arr[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (total / arr.length).toFixed(<span class="number">2</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> res = avgFn(<span class="number">10</span>,<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(res);</div></pre></td></tr></table></figure>
<h4 id="求和优化"><a href="#求和优化" class="headerlink" title="求和优化"></a>求和优化</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">avgFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// arguments.sort();// 类数组不能直接sort</span></div><div class="line">    <span class="keyword">var</span> arr = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">arguments</span>.length;i ++)&#123;</div><div class="line">        arr[arr.length] = <span class="built_in">arguments</span>[i];</div><div class="line">    &#125;</div><div class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> a - b;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    arr.shift();</div><div class="line">    arr.pop();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="built_in">eval</span>(arr.join(<span class="string">"+"</span>)) / arr.length).toFixed(<span class="number">2</span>);<span class="comment">// 求和</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> res = avgFn(<span class="number">10</span>,<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(res);</div></pre></td></tr></table></figure>
<h4 id="类数组转数组优化"><a href="#类数组转数组优化" class="headerlink" title="类数组转数组优化"></a>类数组转数组优化</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Array.prototype.slice = function()&#123;</span></div><div class="line"><span class="comment">//     var arr = [];</span></div><div class="line"><span class="comment">//     // this就是我们想要操作的那个数组</span></div><div class="line"><span class="comment">//     for(var i = 0;i &lt; this.length;i++)&#123;</span></div><div class="line"><span class="comment">//         arr[arr.length] = this[i];</span></div><div class="line"><span class="comment">//     &#125;</span></div><div class="line"><span class="comment">//     // 让this变成arguments就实现arguments转数组了</span></div><div class="line"><span class="comment">//     // for(var i = 0;i &lt; arguments.length;i ++)&#123;</span></div><div class="line"><span class="comment">//     //     arr[arr.length] = arguments[i];</span></div><div class="line"><span class="comment">//     // &#125;</span></div><div class="line"><span class="comment">//     return arr;</span></div><div class="line"><span class="comment">// &#125;;</span></div><div class="line"><span class="comment">// [12,23,34].slice();</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">avgFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</div><div class="line">    <span class="comment">// [].slice.call(arguments,0)// 实例也有slice方法和上面一样的事，0可传可不传</span></div><div class="line">    <span class="comment">// [].__proto__.slice.call(...)// ie不兼容</span></div><div class="line">    <span class="comment">// [].slice.apply[arguments,[0]]</span></div><div class="line">    </div><div class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> a - b;</div><div class="line">    &#125;).shift();</div><div class="line"></div><div class="line">    arr.length --;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (<span class="built_in">eval</span>(arr.join(<span class="string">"+"</span>)) / arr.length).toFixed(<span class="number">2</span>);<span class="comment">// 求和</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> res = avgFn(<span class="number">10</span>,<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(res);</div></pre></td></tr></table></figure>
<h4 id="换个姿势"><a href="#换个姿势" class="headerlink" title="换个姿势"></a>换个姿势</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// arguments可以通过下面方式使用数组中的所有方法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">avgFn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    [].sort.call(<span class="built_in">arguments</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> a - b;</div><div class="line">    &#125;);</div><div class="line">    [].shift.call(<span class="built_in">arguments</span>);</div><div class="line">    [].pop.call(<span class="built_in">arguments</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> (<span class="built_in">eval</span>([].join.call(<span class="built_in">arguments</span>,<span class="string">"+"</span>)) / <span class="built_in">arguments</span>.length).toFixed(<span class="number">2</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> res = avgFn(<span class="number">10</span>,<span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(res);</div></pre></td></tr></table></figure>
<h3 id="插入数据的几种方法"><a href="#插入数据的几种方法" class="headerlink" title="插入数据的几种方法"></a>插入数据的几种方法</h3><p>回流（重排）：结构改变（增加，删除，位置改变）<br>重绘：部分样式改变，浏览器只需要重新渲染当前元素即可<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 原始内容</span></div><div class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(<span class="string">"ul1"</span>);</div><div class="line"><span class="keyword">var</span> aLi = oUl.getElementsByTagName(<span class="string">"li"</span>);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; aLi.length;i ++)&#123;</div><div class="line">    aLi[i].onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">"orange"</span>;</div><div class="line">    &#125;;</div><div class="line">    aLi[i].onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">""</span>;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> arr = [</div><div class="line">    <span class="string">"水电费水电费的是否"</span>,</div><div class="line">    <span class="string">"fgdgdfg规范的身高大概"</span>,</div><div class="line">    <span class="string">"个梵蒂冈法规的"</span>,</div><div class="line">    <span class="string">"就换个价格"</span></div><div class="line">];</div></pre></td></tr></table></figure></p>
<h4 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h4><p>优：对原来内容的事件绑定有影响，劣：1次回流，模板引擎数据绑定的原理就是字符串拼接<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    str += <span class="string">"&lt;li&gt;"</span> + arr[i] + <span class="string">"&lt;/li&gt;"</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// oUl.innerHTML = oUl.innerHTML + str;// 之前的变成字符串...</span></div><div class="line"><span class="comment">// 一拿一放一渲染的方式（之前）的li的所有事件都会消失的</span></div><div class="line">oUl.innerHTML += str;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    str += <span class="string">"&lt;li&gt;"</span>;</div><div class="line">    str += <span class="string">"&lt;span&gt;"</span>+ (i + <span class="number">4</span>) +<span class="string">"&lt;/span&gt;"</span>;</div><div class="line">    str += arr[i].title;</div><div class="line">    str += <span class="string">"&lt;/li&gt;"</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 先把之前的3个li以字符串拿出来，再以字符串添加，再重新渲染，原来的事件会消失</span></div><div class="line">oUl.innerHTML += str;</div></pre></td></tr></table></figure>
<h4 id="动态创建"><a href="#动态创建" class="headerlink" title="动态创建"></a>动态创建</h4><p>优：对原来无影响，劣：添加一次回流一次…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</div><div class="line">    oLi.innerHTML = arr[i];</div><div class="line">    oUl.appendChild(oLi);<span class="comment">// 向末尾增加，不会影响之前的元素</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="文档碎片"><a href="#文档碎片" class="headerlink" title="文档碎片"></a>文档碎片</h4><p>文档碎片：JS中用来临时存储元素的容器<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> frg = <span class="built_in">document</span>.createDocumentFragment();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</div><div class="line">    <span class="keyword">var</span> oLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</div><div class="line">    oLi.innerHTML = arr[i];</div><div class="line">    frg.appendChild(oLi);</div><div class="line">&#125;</div><div class="line">oUl.appendChild(frg);</div><div class="line">frg = <span class="literal">null</span>;<span class="comment">// 手动释放容器</span></div></pre></td></tr></table></figure></p>
<h3 id="DOM元素宽高距离"><a href="#DOM元素宽高距离" class="headerlink" title="DOM元素宽高距离"></a>DOM元素宽高距离</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// clientHeight：height + padding，真实内容高度，和父级是否隐藏无关</span></div><div class="line"><span class="comment">// clientTop：上边框的宽度</span></div><div class="line"><span class="comment">// offsetHeight：clientHeight + clientTop + clientBottom，height + padding + border</span></div><div class="line"><span class="comment">// offsetTop：当前元素的外边框距离有定位父级的内边框的距离</span></div><div class="line"><span class="comment">// offsetParent：当前元素有定位的父级</span></div><div class="line"></div><div class="line"><span class="comment">// scrollHeight：同clientHeight</span></div><div class="line"><span class="comment">// document.documentElement.scrollHeight：文档高</span></div><div class="line"><span class="comment">// document.documentElement.clientHeight：窗口高</span></div><div class="line"><span class="comment">// document.documentElement.scrollTop：滚动高</span></div><div class="line"></div><div class="line"><span class="comment">// window.getComputedStyle(obj,null)["height"]</span></div><div class="line"><span class="comment">// obj.currentStyle["height"]</span></div></pre></td></tr></table></figure>
<h3 id="关于运动"><a href="#关于运动" class="headerlink" title="关于运动"></a>关于运动</h3><h4 id="根据步长"><a href="#根据步长" class="headerlink" title="根据步长"></a>根据步长</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</div><div class="line"><span class="keyword">var</span> maxLeft = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;</div><div class="line"><span class="keyword">var</span> duration = <span class="number">2000</span>;</div><div class="line"><span class="keyword">var</span> step = (maxLeft / duration) * <span class="number">10</span>;<span class="comment">// 步长</span></div><div class="line"><span class="keyword">var</span> oDivLeft = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    oDivLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line">    <span class="keyword">if</span>(oDivLeft &gt;= maxLeft)&#123;</div><div class="line">        clearInterval(timer);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    oDivLeft += step;</div><div class="line">    utils.css(oDiv,<span class="string">"left"</span>,oDivLeft);</div><div class="line">&#125;,<span class="number">10</span>);</div></pre></td></tr></table></figure>
<p>临界点判断<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> maxLeft = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;<span class="comment">// 目标值</span></div><div class="line"><span class="keyword">var</span> step = <span class="number">5</span>;</div><div class="line"><span class="keyword">var</span> curLeft = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    curLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line">    <span class="keyword">if</span>(curLeft + step &gt;= maxLeft)&#123;<span class="comment">// 再进行边界判断的时候加上步长</span></div><div class="line">        utils.css(oDiv,<span class="string">"left"</span>,maxLeft);<span class="comment">// 如果上面不加，有种被拉回来的感觉会闪一次</span></div><div class="line">        clearInterval(timer);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    curLeft += step;<span class="comment">// 也可以直接写上面这样边界判断的时候就不用加步长了</span></div><div class="line">    utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">&#125;,<span class="number">10</span>);</div></pre></td></tr></table></figure></p>
<p>setTimeout 递归模拟<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> maxLeft = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;<span class="comment">// 目标值</span></div><div class="line"><span class="keyword">var</span> step = <span class="number">5</span>;</div><div class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    clearTimeout(timer);<span class="comment">// 定时器清除后timer的值是什么呢？</span></div><div class="line">    <span class="keyword">var</span> curLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line">    <span class="keyword">if</span>(curLeft + step &gt;= maxLeft)&#123;</div><div class="line">        utils.css(oDiv,<span class="string">"left"</span>,maxLeft);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    curLeft += step;</div><div class="line">    utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">    timer = setTimeout(move,<span class="number">10</span>);</div><div class="line">    <span class="built_in">console</span>.log(timer);<span class="comment">// 还是不同的数字呢??</span></div><div class="line">&#125;</div><div class="line">move();</div></pre></td></tr></table></figure></p>
<h4 id="限制时间"><a href="#限制时间" class="headerlink" title="限制时间"></a>限制时间</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> target = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;<span class="comment">// 目标值</span></div><div class="line"><span class="keyword">var</span> begin = utils.css(oDiv,<span class="string">"left"</span>);<span class="comment">// 起始值</span></div><div class="line"><span class="keyword">var</span> change = target - begin;<span class="comment">// 总距离</span></div><div class="line"><span class="keyword">var</span> duration = <span class="number">2000</span>;</div><div class="line"><span class="keyword">var</span> time = <span class="literal">null</span>;</div><div class="line"></div><div class="line"><span class="comment">// time(当前时间),begin(初始值),change(变化量),duration(持续时间)</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Linear</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> c * t / d + b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    time += <span class="number">10</span>;</div><div class="line">    <span class="built_in">console</span>.log(time);</div><div class="line">    <span class="keyword">if</span>(time &gt;= duration)&#123;</div><div class="line">        utils.css(oDiv,<span class="string">"left"</span>,target);</div><div class="line">        clearInterval(timer);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> curPos = Linear(time,begin,change,duration);</div><div class="line">    utils.css(oDiv,<span class="string">"left"</span>,curPos);</div><div class="line">&#125;,<span class="number">10</span>);</div></pre></td></tr></table></figure>
<h4 id="解决作用域累计的问题"><a href="#解决作用域累计的问题" class="headerlink" title="解决作用域累计的问题"></a>解决作用域累计的问题</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> minLeft = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> maxLeft = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;</div><div class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">target</span>)</span>&#123;</div><div class="line">    _move();</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_move</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        clearTimeout(timer);<span class="comment">// !!!!!!!!!!!</span></div><div class="line">        <span class="keyword">var</span> curLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line">        <span class="keyword">if</span>(curLeft &lt; target)&#123;<span class="comment">// 向右</span></div><div class="line">            <span class="keyword">if</span>(curLeft + <span class="number">5</span> &gt;= target)&#123;<span class="comment">// 边界判断要加目标值</span></div><div class="line">                utils.css(oDiv,<span class="string">"left"</span>,target);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            curLeft += <span class="number">5</span>;</div><div class="line">            utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(curLeft &gt; target)&#123;<span class="comment">// 向左</span></div><div class="line">            <span class="keyword">if</span>(curLeft - <span class="number">5</span> &lt;= target)&#123;</div><div class="line">                utils.css(oDiv,<span class="string">"left"</span>,target);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            curLeft -= <span class="number">5</span>;</div><div class="line">            utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// timer = setTimeout(function()&#123;// 每次都需要先执行匿名函数，形成一个私有作用域，这样写性能不好</span></div><div class="line">        <span class="comment">//     move(target);</span></div><div class="line">        <span class="comment">// &#125;,10);</span></div><div class="line">        <span class="comment">// timer = setTimeout(move(),10);// 这样写是返回结果，也不对</span></div><div class="line">        timer = setTimeout(_move,<span class="number">10</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"left"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    move(minLeft)</div><div class="line">&#125;;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"right"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    move(maxLeft)</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="自定义timer"><a href="#自定义timer" class="headerlink" title="自定义timer"></a>自定义timer</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 边界判断</span></div><div class="line"><span class="comment">// 清除没有用的定时器</span></div><div class="line"><span class="comment">// _move避免作用域的累积</span></div><div class="line"><span class="comment">// 把定时器的返回值放在自定义属性上，防止全局和一个元素做多个事情</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> minLeft = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> maxLeft = utils.win(<span class="string">"clientWidth"</span>) - oDiv.offsetWidth;</div><div class="line"><span class="comment">//var timer = null; // 放在全局下用的都是同一个timer，但放在全局下又不好，解决之道是自定义属性</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">target</span>)</span>&#123;</div><div class="line">    <span class="comment">//var timer = null;// 放在这里，当向一边还没走完时向右走哆嗦，又向左右向右</span></div><div class="line">    _move();</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_move</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        clearTimeout(oDiv.timer);<span class="comment">// !!!!!!!!!!!</span></div><div class="line">        <span class="keyword">var</span> curLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line">        <span class="keyword">if</span>(curLeft &lt; target)&#123;<span class="comment">// 向右</span></div><div class="line">            <span class="keyword">if</span>(curLeft + <span class="number">5</span> &gt;= target)&#123;<span class="comment">// 边界判断要加目标值</span></div><div class="line">                utils.css(oDiv,<span class="string">"left"</span>,target);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            curLeft += <span class="number">5</span>;</div><div class="line">            utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(curLeft &gt; target)&#123;<span class="comment">// 向左</span></div><div class="line">            <span class="keyword">if</span>(curLeft - <span class="number">5</span> &lt;= target)&#123;</div><div class="line">                utils.css(oDiv,<span class="string">"left"</span>,target);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            curLeft -= <span class="number">5</span>;</div><div class="line">            utils.css(oDiv,<span class="string">"left"</span>,curLeft);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        oDiv.timer = setTimeout(_move,<span class="number">10</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"left"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    move(minLeft)</div><div class="line">&#125;;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">"right"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    move(maxLeft)</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="水平垂直都动"><a href="#水平垂直都动" class="headerlink" title="水平垂直都动"></a>水平垂直都动</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line"><span class="keyword">var</span> beginLeft = utils.css(oDiv,<span class="string">"left"</span>);</div><div class="line"><span class="keyword">var</span> beginTop = utils.css(oDiv,<span class="string">"top"</span>);</div><div class="line"><span class="keyword">var</span> targetLeft = <span class="number">1000</span>;</div><div class="line"><span class="keyword">var</span> targetTop = <span class="number">500</span>;</div><div class="line"><span class="keyword">var</span> changeLeft = targetLeft - beginLeft;</div><div class="line"><span class="keyword">var</span> changeTop = targetTop - beginTop;</div><div class="line"><span class="keyword">var</span> duration = <span class="number">1000</span>;</div><div class="line"><span class="keyword">var</span> time = <span class="number">0</span>;<span class="comment">// 走了多长时间了</span></div><div class="line"></div><div class="line">oDiv.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    time += <span class="number">10</span>;</div><div class="line">    <span class="keyword">if</span>(time &gt;= duration)&#123;</div><div class="line">        utils.css(oDiv,&#123;</div><div class="line">            <span class="attr">left</span>: targetLeft,</div><div class="line">            <span class="attr">top</span>: targetTop</div><div class="line">        &#125;);</div><div class="line">        clearInterval(oDiv.timer);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> curLeft = Linear(time,beginLeft,changeLeft,duration);</div><div class="line">    <span class="keyword">var</span> curTop = Linear(time,beginTop,changeTop,duration);</div><div class="line">    utils.css(oDiv,&#123;</div><div class="line">        <span class="attr">left</span>: curLeft,</div><div class="line">        <span class="attr">top</span>: curTop</div><div class="line">    &#125;);</div><div class="line">&#125;,<span class="number">10</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Linear</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> c * t / d + b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 使用</span></div><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</div><div class="line">run(oDiv,&#123;</div><div class="line">    <span class="attr">left</span>: <span class="number">300</span></div><div class="line">&#125;,<span class="number">1000</span>,[<span class="string">"Bounce"</span>,<span class="string">"easeIn"</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.style.backgroundColor = <span class="string">"pink"</span>;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 方法</span></div><div class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> move = &#123;</div><div class="line">        <span class="attr">Linear</span>: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;<span class="comment">// 此种动画形式的彻底研究</span></div><div class="line">            <span class="keyword">return</span> t * c / d + b;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">Quad</span>: &#123;<span class="comment">//二次方的缓动（t^2）；</span></div><div class="line">            easeIn: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> c*(t/=d)*t + b;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">Cubic</span>: &#123;<span class="comment">//三次方的缓动（t^3）</span></div><div class="line">            easeIn: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> c*(t/=d)*t*t + b;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">Bounce</span>: &#123;<span class="comment">//指数衰减的反弹缓动。</span></div><div class="line">            easeIn: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> c - move.Bounce.easeOut(d-t, <span class="number">0</span>, c, d) + b;</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">easeOut</span>: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">                <span class="keyword">if</span> ((t/=d) &lt; (<span class="number">1</span>/<span class="number">2.75</span>)) &#123;</div><div class="line">                    <span class="keyword">return</span> c*(<span class="number">7.5625</span>*t*t) + b;</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t &lt; (<span class="number">2</span>/<span class="number">2.75</span>)) &#123;</div><div class="line">                    <span class="keyword">return</span> c*(<span class="number">7.5625</span>*(t-=(<span class="number">1.5</span>/<span class="number">2.75</span>))*t + <span class="number">.75</span>) + b;</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t &lt; (<span class="number">2.5</span>/<span class="number">2.75</span>)) &#123;</div><div class="line">                    <span class="keyword">return</span> c*(<span class="number">7.5625</span>*(t-=(<span class="number">2.25</span>/<span class="number">2.75</span>))*t + <span class="number">.9375</span>) + b;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">return</span> c*(<span class="number">7.5625</span>*(t-=(<span class="number">2.625</span>/<span class="number">2.75</span>))*t + <span class="number">.984375</span>) + b;</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">easeInOut</span>: <span class="function"><span class="keyword">function</span>(<span class="params">t,b,c,d</span>)</span>&#123;</div><div class="line">                <span class="keyword">if</span> (t &lt; d/<span class="number">2</span>) <span class="keyword">return</span> move.Bounce.easeIn(t*<span class="number">2</span>, <span class="number">0</span>, c, d) * <span class="number">.5</span> + b;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">return</span> move.Bounce.easeOut(t*<span class="number">2</span>-d, <span class="number">0</span>, c, d) * <span class="number">.5</span> + c*<span class="number">.5</span> + b;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    move.Linear();</div><div class="line">    <span class="comment">// 多方向的运动</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">curEle,target,duration,effect,callBack</span>)</span>&#123;</div><div class="line">        <span class="comment">// 数字</span></div><div class="line">        <span class="comment">// 数组</span></div><div class="line">        <span class="comment">// 不传</span></div><div class="line">        <span class="keyword">var</span> tempEffect = move.Linear;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> effect === <span class="string">"number"</span>)&#123;</div><div class="line">            <span class="keyword">switch</span>(effect)&#123;</div><div class="line">                <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                    tempEffect = move.Quad.easeIn;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                    tempEffect = move.Cubic.easeIn;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">                    tempEffect = move.Bounce.easeIn;</div><div class="line">                    <span class="comment">// ...</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(effect <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;<span class="comment">// ["Bounce","easeIn"]</span></div><div class="line">            tempEffect = effect.length &gt;= <span class="number">2</span> ? move[effect[<span class="number">0</span>]][effect[<span class="number">1</span>]] : move[effect[<span class="number">0</span>]].easeIn;<span class="comment">// 默认...</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(effect === <span class="string">"function"</span>)&#123;<span class="comment">// 相当于effect没传</span></div><div class="line">            callBack = effect;<span class="comment">// tempEffect还是默认的</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        clearInterval(curEle,curEle.timer);</div><div class="line">        <span class="keyword">var</span> begin = &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> change = &#123;&#125;;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> target)&#123;</div><div class="line">            <span class="keyword">if</span>(target.hasOwnProperty(key))&#123;<span class="comment">// 私有，非原型</span></div><div class="line">                begin[key] = utils.css(curEle,key);</div><div class="line">                change[key] = target[key] - begin[key];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 运动...</span></div><div class="line">        <span class="keyword">var</span> time = <span class="number">0</span>;</div><div class="line">        curEle.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            time += <span class="number">10</span>;</div><div class="line">            <span class="keyword">if</span>(time &gt;= duration)&#123;</div><div class="line">                utils.css(curEle,target);<span class="comment">// 批量设置目标值</span></div><div class="line">                clearInterval(curEle.timer);</div><div class="line">                <span class="keyword">typeof</span> callBack === <span class="string">"function"</span> ? callBack.call(curEle) : <span class="literal">null</span>;</div><div class="line">                <span class="comment">//callBack &amp;&amp; callBack();</span></div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> target)&#123;</div><div class="line">                <span class="keyword">if</span>(target.hasOwnProperty(key))&#123;</div><div class="line">                    <span class="keyword">var</span> curPos = tempEffect(time,begin[key],change[key],duration);<span class="comment">// !!!</span></div><div class="line">                    utils.css(curEle,key,curPos);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;,<span class="number">10</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">window</span>.run = run;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<h3 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h3><h4 id="首屏"><a href="#首屏" class="headerlink" title="首屏"></a>首屏</h4><p>给对应区域一张尽量小默认图，当真实内容加载陈功时再加载真实图片<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>);</div><div class="line"><span class="keyword">var</span> oImg = oDiv.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</div><div class="line"></div><div class="line">timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> loadImg = <span class="keyword">new</span> Image();</div><div class="line">    loadImg.src = oImg.getAttribute(<span class="string">"data-src"</span>);</div><div class="line">    loadImg.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        oImg.src = <span class="keyword">this</span>.src;</div><div class="line">        oImg.style.display = <span class="string">"block"</span>;</div><div class="line">        loadImg = <span class="literal">null</span>;<span class="comment">// 注意这里释放别搞错了...</span></div><div class="line"></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"加载完成！"</span>);<span class="comment">// 里面处理完成的</span></div><div class="line">        <span class="keyword">var</span> time2 = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">        <span class="built_in">console</span>.log(time2 - time1);<span class="comment">// 加载时间</span></div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> time1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"正在加载中..."</span>);<span class="comment">// 外面处理loading的</span></div><div class="line">&#125;,<span class="number">500</span>);</div></pre></td></tr></table></figure></p>
<h4 id="其他屏"><a href="#其他屏" class="headerlink" title="其他屏"></a>其他屏</h4><p>出现在屏幕中时开始加载真实图片<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oDiv = <span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>);</div><div class="line"><span class="keyword">var</span> oImg = oDiv.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</div><div class="line"></div><div class="line"><span class="built_in">window</span>.onscroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(oImg.isLoad)<span class="keyword">return</span>;</div><div class="line">    <span class="keyword">var</span> A = utils.offset(oDiv).top + oDiv.offsetHeight;<span class="comment">// 这里不能用oImg，oImg藏起来获取有问题</span></div><div class="line">    <span class="keyword">var</span> B = utils.win(<span class="string">"scrollTop"</span>) + utils.win(<span class="string">"clientHeight"</span>);</div><div class="line">    <span class="keyword">if</span>(A &lt; B)&#123;</div><div class="line">        <span class="keyword">var</span> loadImg = <span class="keyword">new</span> Image();</div><div class="line">        loadImg.src = oImg.getAttribute(<span class="string">"data-src"</span>);</div><div class="line">        loadImg.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"ok"</span>);</div><div class="line">            oImg.src = <span class="keyword">this</span>.src;</div><div class="line">            oImg.style.display = <span class="string">"block"</span>;</div><div class="line">            loadImg = <span class="literal">null</span>;</div><div class="line">        &#125;;</div><div class="line">        oImg.isLoad = <span class="literal">true</span>;<span class="comment">// 不管是否加载成功进入后就不再重新加载了，JS定义的属性控制台上看不见的</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p><a href="javascript">连接</a><br>补充：数据异步加载一般是开始把前两屏的数据加载进来，当页面滚动到对应区域时再加载渲染数据</p>
<h3 id="兼容性处理举例"><a href="#兼容性处理举例" class="headerlink" title="兼容性处理举例"></a>兼容性处理举例</h3><p>try catch:不管是什么都要走try中的代码，不好<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">try</span>&#123;</div><div class="line">        <span class="keyword">return</span> getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">catch</span>(e)&#123;</div><div class="line">        <span class="keyword">return</span> ele.currentStyle[attr];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>判断是否存在此属性<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</div><div class="line">        <span class="keyword">return</span> getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> ele.currentStyle[attr];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="string">"getComputedStyle"</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</div><div class="line">        <span class="keyword">return</span> getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> ele.currentStyle[attr];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">window</span>.getComputedStyle === <span class="string">"function"</span>)&#123;</div><div class="line">        <span class="keyword">return</span> getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> ele.currentStyle[attr];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>navigator.userAgent<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="regexp">/MSIE(6|7|8)/</span>.test(navigator.userAgent))&#123;</div><div class="line">        <span class="keyword">return</span> ele.currentStyle[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对单位的处理<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> val = <span class="literal">null</span>,reg = <span class="literal">null</span>;</div><div class="line">    <span class="comment">// var val = reg = null;// 这样写reg是全局的</span></div><div class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</div><div class="line">        val = <span class="built_in">window</span>.getComputedStyle(ele,<span class="literal">null</span>)[attr];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;<span class="comment">// ie6-8</span></div><div class="line">        <span class="keyword">if</span>(attr === <span class="string">"opacity"</span>)&#123;</div><div class="line">            val = ele.currentStyle[<span class="string">"filter"</span>];<span class="comment">// alpha(opacty=10)</span></div><div class="line">            reg = <span class="regexp">/^alpha\(opacity=(\d+(?:\.\d+)?)\)$/i</span>;</div><div class="line">            val = reg.test(val) ? reg.exec(val)[<span class="number">1</span>] / <span class="number">100</span> : <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            val = ele.currentStyle[attr];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 负数、小数、单位可能出现或不出现</span></div><div class="line">    reg = <span class="regexp">/^(-?\d+(\.\d+)?)(px|pt|rem|em)?$/i</span>;</div><div class="line">    <span class="keyword">return</span> reg.test(val) ? <span class="built_in">parseFloat</span>(val) : val;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="String常用方法"><a href="#String常用方法" class="headerlink" title="String常用方法"></a>String常用方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'yangkkk'</span>;</div><div class="line"></div><div class="line">str.length;</div><div class="line"></div><div class="line">str.charAt(<span class="number">0</span>);<span class="comment">// 获取指定索引对应的字符</span></div><div class="line"></div><div class="line">str.charCodeAt(<span class="number">0</span>);<span class="comment">// 索引位置字符对应的ASCII码值</span></div><div class="line"></div><div class="line">str.substr(n,m);<span class="comment">// 索引n(包括n)开始截取 m个 字符</span></div><div class="line"></div><div class="line">str.substring(n,m);<span class="comment">// 从索引n找到m(不包括m)处</span></div><div class="line"></div><div class="line">str.slice(n,m);<span class="comment">// 和substring()一样，支持负数作为索引，例如splice(-10)</span></div><div class="line"></div><div class="line">str.indexOf(字符);<span class="comment">// 获取指定字符在对应字符串中第一次出现的索引和charAt()相反</span></div><div class="line"></div><div class="line">lastIndexOf(字符);<span class="comment">// 获取字符在字符串中最后一次出现的位置，如果没有返回-1</span></div><div class="line"></div><div class="line">str.toLowerCase();</div><div class="line"></div><div class="line">toUpperCase();</div><div class="line"></div><div class="line">str.replace(旧字符，新字符);<span class="comment">// 配合正则使用较好</span></div><div class="line">str.replace(<span class="string">'k'</span>,<span class="string">"o"</span>).replace(<span class="string">'k'</span>,<span class="string">"o"</span>).replace(<span class="string">'k'</span>,<span class="string">"o"</span>);</div><div class="line">str.replace(<span class="regexp">/k/g</span>,<span class="string">"o"</span>);</div><div class="line"></div><div class="line">str.split(<span class="string">""</span>)<span class="comment">// 变成数组</span></div></pre></td></tr></table></figure>
<h4 id="时间转换"><a href="#时间转换" class="headerlink" title="时间转换"></a>时间转换</h4><p>主要用到String的split()方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> time = <span class="string">"2016-12-10 12:45:3"</span>;<span class="comment">// 转成：2016年12月10日 12时45分03秒</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = time.split(<span class="string">" "</span>);<span class="comment">// 字符串按空格拆分成数组</span></div><div class="line"><span class="keyword">var</span> arrLeft = arr[<span class="number">0</span>].split(<span class="string">"-"</span>);<span class="comment">// 数组中的字符串按-拆分成数组</span></div><div class="line"><span class="keyword">var</span> arrRight = arr[<span class="number">1</span>].split(<span class="string">":"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> leftStr = <span class="string">""</span>;</div><div class="line"><span class="keyword">var</span> rightStr = <span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> l = <span class="string">""</span>;</div><div class="line"><span class="keyword">var</span> r = <span class="string">""</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arrLeft.length;i ++)&#123;</div><div class="line">    <span class="keyword">switch</span>(i)&#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">            l = <span class="string">"年"</span>;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">            l = <span class="string">"月"</span>;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            l = <span class="string">"日"</span>;</div><div class="line">    &#125;</div><div class="line">    leftStr += arrLeft[i] + l;</div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arrRight.length;i ++)&#123;</div><div class="line">    <span class="keyword">switch</span>(i)&#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">            r = <span class="string">"时"</span>;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">            r = <span class="string">"分"</span>;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            r = <span class="string">"秒"</span>;</div><div class="line">    &#125;</div><div class="line">    rightStr += arrRight[i] + r;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(leftStr + <span class="string">" "</span> + rightStr);</div></pre></td></tr></table></figure></p>
<h4 id="str-replace"><a href="#str-replace" class="headerlink" title="str.replace()"></a>str.replace()</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"20151213"</span>;</div><div class="line"><span class="keyword">var</span> arr = [<span class="string">"零"</span>,<span class="string">"一"</span>,<span class="string">"二"</span>,<span class="string">"三"</span>,<span class="string">"四"</span>,<span class="string">"五"</span>,<span class="string">"六"</span>,<span class="string">"七"</span>,<span class="string">"八"</span>,<span class="string">"九"</span>];</div><div class="line"></div><div class="line">str = str.replace(<span class="regexp">/\d/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// var num = arguments[0];</span></div><div class="line">    <span class="comment">// var str = arr[num];</span></div><div class="line">    <span class="comment">// return str;</span></div><div class="line">    <span class="comment">// ["2", 0, "20151213"]// 数字，索引，str</span></div><div class="line">    <span class="keyword">return</span> arr[<span class="built_in">arguments</span>[<span class="number">0</span>]];</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(str);</div></pre></td></tr></table></figure>
<h3 id="Array常用方法"><a href="#Array常用方法" class="headerlink" title="Array常用方法"></a>Array常用方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// push:返回新数组的长度，原来数组改变</span></div><div class="line"><span class="comment">// unshift:数组开头增加，返回改变后的长度，原来数组改变</span></div><div class="line"><span class="comment">// pop:不穿参数，删除数组最后一个，返回删除的内容，返回类型和删除内容类型一样，原来数组改变</span></div><div class="line"><span class="comment">// shift:不传参数，删除数组第一个，返回删除的内容，返回类型和删除内容类型一样，原来数组改变</span></div><div class="line"></div><div class="line"><span class="comment">// splice(n,0,x):向数组中索引为n的前面添加新的内容，返回空数组，原来数组改变</span></div><div class="line"><span class="comment">// splice(n,m):从索引n（包含n）开始删除m个元素，把删除的内容当作新的数组返回，原来数组改变</span></div><div class="line"><span class="comment">// splice(n,m,x):从索引n开始删除m个元素，用x替换删除的，把删除的内容当作新的数组返回，原来数组改变</span></div><div class="line"></div><div class="line"><span class="comment">// splice(0,0,x)   &gt;&gt;  unshift</span></div><div class="line"><span class="comment">// splice(arr.length,0,x)  &gt;&gt;  push</span></div><div class="line"><span class="comment">// splice(arr.length-1,1)  &gt;&gt;  pop</span></div><div class="line"><span class="comment">// splice(0,1) &gt;&gt;  shift</span></div><div class="line"><span class="comment">// 注意以上虽然功效一样，但返回的内容是不一样的</span></div><div class="line"></div><div class="line"><span class="comment">// slice(n,m):从索引n（包含n）开始，找到索引m处（不含m），找到内容作为一个新数组返回，原有数组不变</span></div><div class="line"><span class="comment">// slice(n):从n找到末尾</span></div><div class="line"><span class="comment">// slice(0)或slice():将原来数组原封不动的复制一份</span></div><div class="line"></div><div class="line"><span class="comment">// concat:数组与数组的拼接，例如arr1.concat(arr2)</span></div><div class="line"></div><div class="line"><span class="comment">// toString:将对象转换为字符串，把数组中每一项拿出来用逗号隔开拼接为一个字符串，原有数组不变</span></div><div class="line"></div><div class="line"><span class="comment">// join(分隔符):将对象转换为字符串，把数组中每一项拿出来用逗号隔开拼接为一个字符串，原有数组不变</span></div><div class="line"><span class="comment">// 例如实现数组所有数字相加：eval(arr.join("+"))</span></div><div class="line"></div><div class="line"><span class="comment">// reverse:返回反转后的数组，原有数组改变</span></div><div class="line"></div><div class="line"><span class="comment">// sort:排序，直接写sort只能处理10以内的数字，处理所有的传参数，是利用冒泡排序的思想实现的</span></div><div class="line"></div><div class="line"><span class="comment">// 常用但不兼容的几个方法(待续)：</span></div><div class="line"><span class="comment">// indexOf()</span></div><div class="line"><span class="comment">// forEach()</span></div><div class="line"><span class="comment">// map()</span></div><div class="line"><span class="comment">// ...</span></div></pre></td></tr></table></figure>
<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 冒泡排序：当前项和后一项进行比较，如果当前项 &gt; 后一项，两者交换位置</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">12</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">4</span>];</div><div class="line"></div><div class="line"><span class="comment">// [10,12,13,8,4]</span></div><div class="line"><span class="comment">// [10,12,13,8,4]</span></div><div class="line"><span class="comment">// [10,12,8,13,4]</span></div><div class="line"><span class="comment">// [10,12,8,4,13]</span></div><div class="line"></div><div class="line"><span class="comment">// [10,12,8,4,13]</span></div><div class="line"><span class="comment">// [10,8,12,4,13]</span></div><div class="line"><span class="comment">// [10,8,4,12,13]</span></div><div class="line"></div><div class="line"><span class="comment">// [8,10,4,12,13]</span></div><div class="line"><span class="comment">// [8,4,10,12,13]</span></div><div class="line"></div><div class="line"><span class="comment">// [4,8,10,12,13]</span></div><div class="line"></div><div class="line"><span class="comment">// 每一轮都将最大的放在后面，比较arr.length - 1轮，每一轮又比较arr.length - 1 - i次</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortArr</span>(<span class="params">arr,type</span>)</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length - <span class="number">1</span>;i ++)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j &lt; arr.length - <span class="number">1</span> - i;j ++)&#123;</div><div class="line">            <span class="keyword">if</span>(arr[j] &gt; arr[j + <span class="number">1</span>])&#123;</div><div class="line">                <span class="keyword">var</span> temp = arr[j];</div><div class="line">                arr[j] = arr[j + <span class="number">1</span>];</div><div class="line">                arr[j + <span class="number">1</span>] = temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    type == <span class="number">1</span> ? arr.reverse() : <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">sortArr(arr,<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(arr);</div></pre></td></tr></table></figure>
<h3 id="内容排序原理"><a href="#内容排序原理" class="headerlink" title="内容排序原理"></a>内容排序原理</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oUl = <span class="built_in">document</span>.querySelector(<span class="string">"#ul1"</span>);</div><div class="line"><span class="keyword">var</span> aLi = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</div><div class="line"></div><div class="line"><span class="comment">// 类数组转数组</span></div><div class="line"><span class="keyword">var</span> newAli = [].slice.call(aLi);</div><div class="line"><span class="comment">// 排序数组</span></div><div class="line">newAli.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(a.innerHTML) - <span class="built_in">parseInt</span>(b.innerHTML);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// appendChild</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; newAli.length;i ++)&#123;</div><div class="line">    oUl.appendChild(newAli[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数据类型检测的4种方式"><a href="#数据类型检测的4种方式" class="headerlink" title="数据类型检测的4种方式"></a>数据类型检测的4种方式</h3><h4 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h4><p>typeof返回的都是字符串，字符串中包含了对应的数据类型，例如”number”、”string”、”boolean”、”undefined”、”function”、”object”，局限性：不能细分正则、数组、null，常见应用如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 实现num2不传的时候默认0</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">    <span class="comment">// num2 = num2 || 0;// 有真即真，假如传的false这里结果也会是0</span></div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> num2 === <span class="string">"undefined"</span>)&#123;<span class="comment">// 改写成这样</span></div><div class="line">        num2 = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(num2);</div><div class="line">&#125;</div><div class="line">fn(<span class="number">10</span>,<span class="literal">false</span>);</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">    <span class="comment">// callback &amp;&amp; callback();// 同真为真，有假即加，不传值的时候不至于出错</span></div><div class="line">    <span class="keyword">typeof</span> callback === <span class="string">"function"</span> ? callback() : <span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line">fn(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>问题1：只能区分实例创建出来的结果是有区别的，对于字面量创建的无法判断，严格意义上来讲只有实例创建出来的结果才是标准的对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>);<span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">""</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);<span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);<span class="comment">// false</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log( <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>) <span class="keyword">instanceof</span> <span class="built_in">Number</span> );</div><div class="line"><span class="built_in">console</span>.log( <span class="keyword">new</span> <span class="built_in">String</span>(<span class="number">1</span>) <span class="keyword">instanceof</span> <span class="built_in">String</span> );</div><div class="line"><span class="built_in">console</span>.log( <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>) <span class="keyword">instanceof</span> <span class="built_in">Boolean</span> );</div></pre></td></tr></table></figure></p>
<p>问题2：结果未必准确<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Fn.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>;</div><div class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Fn;</div><div class="line"><span class="built_in">console</span>.log(f <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>问题3：对于特殊的数据类型，例如null和undefined所属的类是Null和undefined，但是浏览器把这两个类保护起来了，不允许我们外部访问使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> <span class="keyword">instanceof</span> Null);<span class="comment">// 报错</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> <span class="keyword">instanceof</span> Undefined);</div></pre></td></tr></table></figure></p>
<h4 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = [];</div><div class="line"><span class="built_in">console</span>.log(obj.constructor);<span class="comment">// function Array()&#123; ... &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</div><div class="line"><span class="built_in">console</span>.log(num.constructor === <span class="built_in">Number</span>);<span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^$/</span>;</div><div class="line"><span class="built_in">console</span>.log(reg.constructor === <span class="built_in">RegExp</span>);</div><div class="line"><span class="built_in">console</span>.log(reg.constructor === <span class="built_in">Object</span>);<span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>问题：发生继承时检测失败<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Fn.prototype = <span class="keyword">new</span> <span class="built_in">Array</span>;</div><div class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Fn();</div><div class="line"><span class="built_in">console</span>.log(f.constructor);<span class="comment">// Array，检测失败</span></div></pre></td></tr></table></figure></p>
<h4 id="Object-prototype-toString-call"><a href="#Object-prototype-toString-call" class="headerlink" title="Object.prototype.toString.call()"></a>Object.prototype.toString.call()</h4><p>解释：执行Object.prototype.toString方法并改变this指向<br>作用1：对于Number、String、Boolean、Array、RegExp、Date、Function原型上的toString方法都是把当前的数据类型转为字符串<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="number">1</span>).toString());<span class="comment">// Number.prototype.toString</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="string">'1'</span>).toString());<span class="comment">// String.prototype.toString</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="literal">true</span>).toString());</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> ([]).toString());</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="regexp">/^$/</span>).toString());</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="keyword">new</span> <span class="built_in">Date</span>()).toString());</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> (<span class="keyword">new</span> <span class="built_in">Function</span>()).toString());</div></pre></td></tr></table></figure></p>
<p>作用2：进制转换<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log((<span class="number">128</span>).toString(<span class="number">2</span>));</div><div class="line"><span class="built_in">console</span>.log((<span class="number">128</span>).toString(<span class="number">8</span>));</div><div class="line"><span class="built_in">console</span>.log((<span class="number">128</span>).toString(<span class="number">10</span>));</div></pre></td></tr></table></figure></p>
<p>作用3：返回当前方法的执行主体（this）所属类的详细信息<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 例如下面：执行主体是&#123;name:"yangk"&#125;，所属类的详细信息"[object Object]"，第一个小写的object代表当前对象是对象数据类型的，第二个Object代表的是obj是Object这个类的一个实例，即obj所属的类是Object</span></div><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"yangk"</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log( obj.toString() );</div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">Math</span>.toString() );<span class="comment">// "[object Math]"，toString中的this是谁，返回的就是谁所属类的信息"[object Math]"</span></div></pre></td></tr></table></figure></p>
<p>案例实战<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(arr));<span class="comment">// [object Array]</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(&#123;&#125;.toString.call(<span class="number">1</span>));<span class="comment">// 这种写法和上面一样,&#123;&#125;找到也是Object.prototype.toString</span></div><div class="line"><span class="built_in">console</span>.log(&#123;&#125;.toString.call(<span class="literal">null</span>));</div><div class="line"><span class="built_in">console</span>.log(&#123;&#125;.toString.call(<span class="literal">undefined</span>));</div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="built_in">Object</span>.prototype.toString.call(arr) === <span class="string">"[object Array]"</span>)&#123; ... &#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\[object Array\]$/</span>;</div><div class="line"><span class="keyword">if</span>(reg.test(<span class="built_in">Object</span>.prototype.toString.call(arr)))&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'这是一个数组！'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 无区别</span></div><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line"></div><div class="line"><span class="comment">// 有区别</span></div><div class="line"><span class="keyword">var</span> num = <span class="number">1</span>;<span class="comment">// 基本，nun instanceof Number &gt;&gt; false</span></div><div class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);<span class="comment">// 对象，num instanceof Number &gt;&gt; true</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.prototype.aaa = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"bbb"</span>);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"aaa"</span></div><div class="line">&#125;;</div><div class="line">obj.aaa();<span class="comment">// obj.__proto__.aaa();</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;<span class="comment">// 能遍历私有和自己写的公有的</span></div><div class="line">    <span class="built_in">console</span>.log(obj[key]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 是否可枚举，私有true，公有false</span></div><div class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">"name"</span>));<span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">"aaa"</span>));<span class="comment">// false</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</div><div class="line">    <span class="comment">// if(obj.propertyIsEnumerable(key))&#123;</span></div><div class="line">    <span class="comment">//     console.log(key + "...");</span></div><div class="line">    <span class="comment">// &#125;</span></div><div class="line">    <span class="keyword">if</span>(obj.hasOwnProperty(key))&#123;</div><div class="line">        <span class="built_in">console</span>.log(key + <span class="string">"..."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>JSON是一种数据格式，主要用于前后台交互时作为数据的载体<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [</div><div class="line">    &#123;<span class="string">"name"</span>:<span class="string">"yangk"</span>&#125;,</div><div class="line">    &#123;<span class="string">"age"</span>:<span class="string">"24"</span>&#125;</div><div class="line">];</div><div class="line"><span class="comment">// 把JSON格式的数组转换为JSON格式的字符串</span></div><div class="line"><span class="keyword">var</span> str = <span class="built_in">window</span>.JSON.stringify(arr);<span class="comment">// 转为JSON格式的字符串，window可不加</span></div><div class="line"></div><div class="line"><span class="comment">// 把JSON格式的字符串转换为JSON格式的数组/对象</span></div><div class="line"><span class="keyword">var</span> jsonArr = <span class="built_in">JSON</span>.parse(str);</div><div class="line"><span class="built_in">console</span>.log(jsonArr);<span class="comment">// 数组格式的</span></div><div class="line"></div><div class="line"><span class="comment">// ie6-7不兼容JSON，可以下面方法实现</span></div><div class="line"><span class="keyword">var</span> str = <span class="string">'[&#123;"name":"yangk"&#125;,&#123;"age":"24"&#125;]'</span>;</div><div class="line"><span class="keyword">var</span> jsonArr = <span class="built_in">eval</span>(<span class="string">"("</span>+ str +<span class="string">")"</span>);</div><div class="line"><span class="built_in">console</span>.log(jsonArr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);</div></pre></td></tr></table></figure></p>
<h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><p>一个基本的AJAX<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">xhr.open(<span class="string">"get"</span>,<span class="string">"data.txt"</span>,<span class="literal">true</span>);</div><div class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>)&#123;</div><div class="line">        <span class="keyword">var</span> data = xhr.responseText;</div><div class="line">        <span class="built_in">document</span>.body.innerHTML = data;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">xhr.send();</div></pre></td></tr></table></figure></p>
<p>关于JSONP<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1、JSONP需要获取数据的服务器端做支持</span></div><div class="line"><span class="comment">// 2、原理：利用script标签的特性</span></div><div class="line"><span class="comment">// 3、把当前页面中的一个函数当作参数传递给服务器(url?callback=fn)，服务器返回'fn([&#123;"name":"aaa"&#125;])'</span></div><div class="line"><span class="comment">// 4、客户端让fn执行，fn中的参数就是我们想要的数据</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(data);</div><div class="line">&#125;</div><div class="line">&lt;script src=<span class="string">"http://matchweb.sports.qq.com/kbs/calendar?columnId=100000&amp;callback=fn"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>关于JQUERY中的AJAX<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$.ajax(&#123;</div><div class="line">    <span class="attr">url</span>: <span class="string">"data.txt"</span>,</div><div class="line">    <span class="attr">type</span>: <span class="string">"get"</span>,</div><div class="line">    <span class="attr">dataType</span>: <span class="string">"json"</span>,</div><div class="line">    <span class="attr">data</span>: <span class="literal">null</span>,<span class="comment">// post方式传输时放数据</span></div><div class="line">    <span class="keyword">async</span>: <span class="literal">true</span>,<span class="comment">// 异步</span></div><div class="line">    cache: <span class="literal">false</span>,<span class="comment">// 不要缓存，自动会在请求地址的url末尾加参数，默认走缓存</span></div><div class="line">    timeout: <span class="number">3000</span>,<span class="comment">// 超过3秒不成功走error</span></div><div class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(data);<span class="comment">// 不指定dataType的情况下是string</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>JQUERY中的JSONP：都是GET和异步请求<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$.ajax(&#123;</div><div class="line">    <span class="attr">url</span>: <span class="string">"http://matchweb.sports.qq.com/kbs/calendar?columnId=100000"</span>,</div><div class="line">    <span class="attr">jsonpCallback</span>: <span class="string">"fn"</span>,<span class="comment">// 指定函数名fn，不指定就是随机的</span></div><div class="line">    jsonp: <span class="string">"cb"</span>,<span class="comment">// cb代替callback</span></div><div class="line">    dataType: <span class="string">"jsonp"</span>,</div><div class="line">    <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(data);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;input type=<span class="string">"number"</span> disabled id=<span class="string">"number"</span> value=<span class="string">"15"</span>&gt;</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">id</span>=<span class="string">"range"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"65"</span> <span class="attr">step</span>=<span class="string">"1"</span> <span class="attr">value</span>=<span class="string">"15"</span>&gt;</span></span></div><div class="line">var oRange = document.getElementById("range");</div><div class="line">var oNumber = document.getElementById("number");</div><div class="line">oRange.oninput = function()&#123;</div><div class="line">    number.value = this.value;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> submit = <span class="built_in">document</span>.getElementById(<span class="string">"submit"</span>);</div><div class="line"><span class="keyword">var</span> sexMan = <span class="built_in">document</span>.getElementById(<span class="string">"sexMan"</span>);</div><div class="line"><span class="keyword">var</span> sexWoman = <span class="built_in">document</span>.getElementById(<span class="string">"sexWoMan"</span>);</div><div class="line">submit.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> sexType = <span class="number">0</span>;</div><div class="line">    !sexMan.checked ? sexType = <span class="number">1</span> : <span class="literal">null</span>;<span class="comment">// 默认sexman.checked为true，选中女时sexMan.checked为false</span></div><div class="line">    </div><div class="line">&#125;;</div><div class="line"><span class="comment">/*sexMan.onclick = sexWoman.onclick = function()&#123;</span></div><div class="line">    console.log(this.value);</div><div class="line">&#125;;*/</div><div class="line">sexMan.onchange = sexWoman.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// 表单事件的正确姿势</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.value);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h3><h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 把信息存储到客户端浏览器中，服务器端也可以获取到</span></div><div class="line"><span class="built_in">document</span>.cookie = <span class="string">"age=7"</span>;</div><div class="line"><span class="built_in">escape</span>(str);<span class="comment">// 编码</span></div><div class="line"><span class="built_in">unescape</span>(str);<span class="comment">// 解码</span></div><div class="line"></div><div class="line"><span class="comment">// cookie常用在：记住用户名密码；用户的部分信息，例如登陆信息；购物车；少量信息且对浏览器兼容要求高的...</span></div><div class="line">localStorage常用在：某一个JS或CSS的源代码；一些不需要经常更新的数据，存储的时候可以设置一个时间，刷新页面时，判断当前时间是否超过页面设置的时间，若超过，重新获取，没超则使用本地的。</div><div class="line"></div><div class="line"><span class="comment">// 本地存储都是明文存储，需要加密</span></div></pre></td></tr></table></figure>
<h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 把信息存储到服务器上</span></div></pre></td></tr></table></figure>
<h4 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 永久存储到本地</span></div><div class="line">localStorage.setItem(<span class="string">'age'</span>,<span class="number">7</span>);<span class="comment">// 存，是字符串格式的</span></div><div class="line">localStorage.setItem(<span class="string">'person1'</span>,<span class="built_in">JSON</span>.stringify(&#123;<span class="attr">name</span>: <span class="string">"yangk"</span>&#125;));</div><div class="line">localStorage.getItem(<span class="string">'person1'</span>);<span class="comment">// 取，返回的也是字符串类型的</span></div><div class="line">localStorage.removeItem(<span class="string">'age'</span>);<span class="comment">// 删对应</span></div><div class="line">localStorage.clear();<span class="comment">// 当前资源下所有的存储记录都移除掉</span></div><div class="line">localStorage.length;<span class="comment">// 存储的条数</span></div><div class="line">localStorage.key(<span class="number">0</span>);<span class="comment">// 获取索引为0的那一条</span></div></pre></td></tr></table></figure>
<h4 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 会话窗口关闭时消失</span></div></pre></td></tr></table></figure>
<h3 id="中文排序"><a href="#中文排序" class="headerlink" title="中文排序"></a>中文排序</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [</div><div class="line">    &#123;<span class="attr">name</span>: <span class="string">"菜花"</span>,<span class="attr">age</span>: <span class="number">24</span>&#125;,</div><div class="line">    &#123;<span class="attr">name</span>: <span class="string">"狗蛋"</span>,<span class="attr">age</span>: <span class="number">30</span>&#125;,</div><div class="line">    &#123;<span class="attr">name</span>: <span class="string">"美丽"</span>,<span class="attr">age</span>: <span class="number">21</span>&#125;,</div><div class="line">    &#123;<span class="attr">name</span>: <span class="string">"郑红"</span>,<span class="attr">age</span>: <span class="number">38</span>&#125;,</div><div class="line">    &#123;<span class="attr">name</span>: <span class="string">"拴住"</span>,<span class="attr">age</span>: <span class="number">17</span>&#125;</div><div class="line">];</div><div class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> a.name.localeCompare(b.name);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="JS中的异步"><a href="#JS中的异步" class="headerlink" title="JS中的异步"></a>JS中的异步</h3><p>同步：没有完成之前，绝对不会做下一件事情<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"ok"</span>);<span class="comment">// 永远都不会执行</span></div></pre></td></tr></table></figure></p>
<p>常见异步形式：定时器、事件绑定、Ajax读取数据的时候一般设置为异步、回调函数<br>例一：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</div><div class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    n ++;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// 再1</span></div><div class="line">&#125;,<span class="number">1000</span>);</div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 先0</span></div></pre></td></tr></table></figure></p>
<p>例二：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 浏览器对于定时器都有一个最小等待时间，如果设置时间小于等待时间则设置时间不起作用</span></div><div class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</div><div class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    n ++;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// 再1</span></div><div class="line">&#125;,<span class="number">0</span>);</div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 先0</span></div></pre></td></tr></table></figure></p>
<p>例三：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</div><div class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    n ++;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// 下面没结束这里永远不执行</span></div><div class="line">&#125;,<span class="number">0</span>);</div><div class="line"><span class="comment">// 定时器设置的时间不一定就是等待执行的时间，如果定时器之后还有其他的事情等待处理，不管定时器的时间有没有到，都是不会执行定时器的</span></div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 输出一次0，下面就卡死了</span></div><div class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</div><div class="line">    n ++;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 不执行</span></div></pre></td></tr></table></figure></p>
<p>例四：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 谁时间短执行谁，时间一样按先后顺序</span></div><div class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</div><div class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    n += <span class="number">2</span>;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// 7第四次</span></div><div class="line">&#125;,<span class="number">7</span>);</div><div class="line"></div><div class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    n += <span class="number">5</span>;</div><div class="line">    <span class="built_in">console</span>.log(n);<span class="comment">// 5第三次</span></div><div class="line">&#125;,<span class="number">5</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 0第一次</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10000000</span>;i++)&#123;<span class="comment">// 即便这里执行时间大于7毫秒也不会先执行上面的</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(n);<span class="comment">// 0第二次</span></div></pre></td></tr></table></figure></p>
<p>例五：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt;aLi.length;i++)&#123;</div><div class="line">    aLi[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">// 异步编程：一点上面的就循环完了，爱我所爱不等待</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="题目-技巧"><a href="#题目-技巧" class="headerlink" title="题目/技巧"></a>题目/技巧</h3><h4 id="求值"><a href="#求值" class="headerlink" title="求值"></a>求值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i ++)&#123;</div><div class="line">    <span class="keyword">if</span>(i &lt;= <span class="number">5</span>)&#123;</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">        <span class="keyword">continue</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        i += <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(i);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> j = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(j &lt; <span class="number">5</span>)&#123;</div><div class="line">    <span class="keyword">if</span>(j &lt;= <span class="number">5</span>)&#123;</div><div class="line">        j += <span class="number">1</span>;</div><div class="line">        j ++;</div><div class="line">        <span class="keyword">continue</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        j += <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(j);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)&#123;<span class="comment">// 5 ++</span></div><div class="line">    <span class="keyword">if</span>(i &lt;= <span class="number">5</span>)&#123;</div><div class="line">        i += <span class="number">2</span>;</div><div class="line">        <span class="keyword">continue</span>;</div><div class="line">    &#125;</div><div class="line">    i += <span class="number">3</span>;</div><div class="line">    <span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(i);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">10</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(n + (++ i));</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fn();</div><div class="line">f(<span class="number">10</span>);<span class="comment">// 21</span></div><div class="line">f(<span class="number">20</span>);<span class="comment">// 32</span></div><div class="line">fn()(<span class="number">10</span>);<span class="comment">// 21</span></div><div class="line">fn()(<span class="number">20</span>);<span class="comment">// 31</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(n + i ++);<span class="comment">// 先执行i ++</span></div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> f = fn(<span class="number">13</span>);</div><div class="line">f(<span class="number">12</span>);<span class="comment">// 25</span></div><div class="line">f(<span class="number">14</span>);<span class="comment">// 28</span></div><div class="line">fn(<span class="number">15</span>)(<span class="number">12</span>);<span class="comment">// 27</span></div><div class="line">fn(<span class="number">16</span>)(<span class="number">13</span>);<span class="comment">// 29</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">20</span>;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">num</span>: <span class="number">30</span>,</div><div class="line">    <span class="attr">fn</span>: (<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;<span class="comment">// fn是自执行函数的返回结果，即return后面的函数</span></div><div class="line">        <span class="keyword">this</span>.num *= <span class="number">3</span>;<span class="comment">// 自执行函数的this永远是window，所以window下的num = 60</span></div><div class="line">        num += <span class="number">15</span>;<span class="comment">// 35</span></div><div class="line">        <span class="keyword">var</span> num = <span class="number">45</span>;<span class="comment">// 形参已经有了就不重新声明了，直接等于45</span></div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.num *= <span class="number">4</span>;<span class="comment">// this是window，结果是240</span></div><div class="line">            num += <span class="number">20</span>;<span class="comment">// 上级作用域45 + 20 = 65</span></div><div class="line">            <span class="built_in">console</span>.log(num);</div><div class="line">        &#125;;</div><div class="line">    &#125;)(num)<span class="comment">// 20</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> fn = obj.fn;<span class="comment">// return的函数</span></div><div class="line">fn();<span class="comment">// 65</span></div><div class="line"><span class="comment">// fn();// 85</span></div><div class="line">obj.fn();<span class="comment">// 85，这里执行后上面this.num *= 4结果是120</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.num,obj.num);<span class="comment">// 240,120</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = <span class="number">2</span>;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">number</span>: <span class="number">4</span>,</div><div class="line">    <span class="attr">fn1</span>: (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.number *= <span class="number">2</span>;<span class="comment">// 闭包形式的this &gt;&gt; window</span></div><div class="line">        number = number * <span class="number">2</span>;<span class="comment">// 只声明没定义undefined * 2</span></div><div class="line">        <span class="built_in">console</span>.log(number);<span class="comment">// NaN</span></div><div class="line">        <span class="keyword">var</span> number = <span class="number">3</span>;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">// return 给fn1，必包有return不销毁</span></div><div class="line">            <span class="keyword">this</span>.number *= <span class="number">2</span>;<span class="comment">// this &gt;&gt; window 8</span></div><div class="line">            number *= <span class="number">3</span>;<span class="comment">// 找没有销毁的必包中的变量 9</span></div><div class="line">            alert(number);<span class="comment">// </span></div><div class="line">        &#125;<span class="comment">// 这个匿名方法返回这个函数，fn1最终就是这个函数</span></div><div class="line">    &#125;)()<span class="comment">// 这个匿名函数运行就是一个必包</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> fn1 = obj.fn1;<span class="comment">// NaN</span></div><div class="line">alert(number);<span class="comment">// 4</span></div><div class="line">fn1();<span class="comment">// 9.........window</span></div><div class="line"></div><div class="line">obj.fn1(); <span class="comment">// 27............obj</span></div><div class="line">alert(<span class="built_in">window</span>.number);<span class="comment">// 8</span></div><div class="line">alert(obj.number);<span class="comment">// 8</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 注意1和2位置切换后的结果是不一样的</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">Person.prototype = &#123;<span class="comment">// 1</span></div><div class="line">    <span class="keyword">constructor</span>: Person,</div><div class="line">    name: "yangk",</div><div class="line">    showName: function()&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();<span class="comment">// 2</span></div><div class="line">person1.showName();</div></pre></td></tr></table></figure>
<h4 id="typeof-1"><a href="#typeof-1" class="headerlink" title="typeof"></a>typeof</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="keyword">typeof</span> <span class="keyword">typeof</span> []);</div></pre></td></tr></table></figure>
<h4 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">num &gt; <span class="number">0</span> ? <span class="built_in">console</span>.log(<span class="string">"yes"</span>) : <span class="keyword">void</span> <span class="number">0</span>;<span class="comment">// 不符合条件又没内容返回时可以这样写就是返回undefined</span></div></pre></td></tr></table></figure>
<h4 id="for-in循环顺序问题"><a href="#for-in循环顺序问题" class="headerlink" title="for in循环顺序问题"></a>for in循环顺序问题</h4><p>for in循环的顺序问题：首先循环数字的属性名(从小到大)，再按我们写的顺序循环其他的<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"yangk"</span>,</div><div class="line">    <span class="attr">age</span>: <span class="number">25</span>,</div><div class="line">    <span class="number">1</span>: <span class="number">10086</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</div><div class="line">    <span class="built_in">console</span>.log(obj[key]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="JS中的6个假值"><a href="#JS中的6个假值" class="headerlink" title="JS中的6个假值"></a>JS中的6个假值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="literal">false</span>、<span class="literal">null</span>、<span class="literal">undefined</span>、<span class="number">0</span>、<span class="string">""</span>、<span class="literal">NaN</span></div></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JS基础知识/" rel="tag">#JS基础知识</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/11/23/note-react/" rel="next" title="React初探">
                <i class="fa fa-chevron-left"></i> React初探
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/11/js-object/" rel="prev" title="JavaScript Object">
                JavaScript Object <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/12/04/base-js/"
           data-title="JavaScript mark" data-url="http://wwww.yesokiloveyou.com/2016/12/04/base-js/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/yangk.png"
               alt="yangk" />
          <p class="site-author-name" itemprop="name">yangk</p>
          <p class="site-description motion-element" itemprop="description">为之则易，不为则难</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="http://f2er.club/" target="_blank" title="前端资源一">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  前端资源一
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.w3cmark.com/mark/" target="_blank" title="前端资源二">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  前端资源二
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://cssreference.io/" target="_blank" title="CSS">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  CSS
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型"><span class="nav-text">数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#比较的奥秘"><span class="nav-text">比较的奥秘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#预解析"><span class="nav-text">预解析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#try-catch"><span class="nav-text">try catch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找上级作用域"><span class="nav-text">查找上级作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点击计数"><span class="nav-text">点击计数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#利用全局变量"><span class="nav-text">利用全局变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用私有作用域"><span class="nav-text">利用私有作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用innerHTML"><span class="nav-text">利用innerHTML</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用自定义属性"><span class="nav-text">利用自定义属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内存释放／垃圾回收-待续，高程3…"><span class="nav-text">内存释放／垃圾回收(待续，高程3…)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定时器"><span class="nav-text">定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件"><span class="nav-text">事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于this"><span class="nav-text">关于this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#乘法表"><span class="nav-text">乘法表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#加换行符实现"><span class="nav-text">加换行符实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用块元素的机制实现"><span class="nav-text">利用块元素的机制实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用字符串拼接的方法实现"><span class="nav-text">用字符串拼接的方法实现</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打印个正方形"><span class="nav-text">打印个正方形</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#浮动实现"><span class="nav-text">浮动实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#两个循环定位实现"><span class="nav-text">两个循环定位实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#一个循环定位实现"><span class="nav-text">一个循环定位实现</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#倒计时"><span class="nav-text">倒计时</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数"><span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#简单的隔N行变色"><span class="nav-text">简单的隔N行变色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简单的求和"><span class="nav-text">简单的求和</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简单的变色"><span class="nav-text">简单的变色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数的3种角色"><span class="nav-text">函数的3种角色</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#随机数"><span class="nav-text">随机数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#找n-m间不重复的随机数"><span class="nav-text">找n-m间不重复的随机数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简单验证码"><span class="nav-text">简单验证码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组去重"><span class="nav-text">数组去重</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#删除相同的"><span class="nav-text">删除相同的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#根据对象属性名不能等"><span class="nav-text">根据对象属性名不能等</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#push非重复的"><span class="nav-text">push非重复的</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#找数组最大-最小值"><span class="nav-text">找数组最大/最小值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#排序后掐头去尾法"><span class="nav-text">排序后掐头去尾法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#假设法"><span class="nav-text">假设法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eval-法"><span class="nav-text">eval()法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Math-max-apply-法"><span class="nav-text">Math.max.apply()法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#平均数"><span class="nav-text">平均数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一般写法"><span class="nav-text">一般写法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#求和优化"><span class="nav-text">求和优化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类数组转数组优化"><span class="nav-text">类数组转数组优化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#换个姿势"><span class="nav-text">换个姿势</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#插入数据的几种方法"><span class="nav-text">插入数据的几种方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串拼接"><span class="nav-text">字符串拼接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态创建"><span class="nav-text">动态创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文档碎片"><span class="nav-text">文档碎片</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM元素宽高距离"><span class="nav-text">DOM元素宽高距离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于运动"><span class="nav-text">关于运动</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#根据步长"><span class="nav-text">根据步长</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#限制时间"><span class="nav-text">限制时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决作用域累计的问题"><span class="nav-text">解决作用域累计的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义timer"><span class="nav-text">自定义timer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#水平垂直都动"><span class="nav-text">水平垂直都动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#封装"><span class="nav-text">封装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片懒加载"><span class="nav-text">图片懒加载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#首屏"><span class="nav-text">首屏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他屏"><span class="nav-text">其他屏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#案例"><span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容性处理举例"><span class="nav-text">兼容性处理举例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String常用方法"><span class="nav-text">String常用方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#时间转换"><span class="nav-text">时间转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#str-replace"><span class="nav-text">str.replace()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Array常用方法"><span class="nav-text">Array常用方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#冒泡排序"><span class="nav-text">冒泡排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内容排序原理"><span class="nav-text">内容排序原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型检测的4种方式"><span class="nav-text">数据类型检测的4种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof"><span class="nav-text">typeof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#instanceof"><span class="nav-text">instanceof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#constructor-NaN"><span class="nav-text">constructor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Object-prototype-toString-call"><span class="nav-text">Object.prototype.toString.call()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#枚举"><span class="nav-text">枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON"><span class="nav-text">JSON</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AJAX"><span class="nav-text">AJAX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表单事件"><span class="nav-text">表单事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#存储"><span class="nav-text">存储</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cookie"><span class="nav-text">cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#session"><span class="nav-text">session</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#localStorage"><span class="nav-text">localStorage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sessionStorage"><span class="nav-text">sessionStorage</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#中文排序"><span class="nav-text">中文排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JS中的异步"><span class="nav-text">JS中的异步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-技巧"><span class="nav-text">题目/技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#求值"><span class="nav-text">求值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof-1"><span class="nav-text">typeof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三目运算符"><span class="nav-text">三目运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for-in循环顺序问题"><span class="nav-text">for in循环顺序问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JS中的6个假值"><span class="nav-text">JS中的6个假值</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016.11.11 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yangk</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"yangk"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

  


</body>
</html>
